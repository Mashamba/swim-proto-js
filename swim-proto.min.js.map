{"version":3,"sources":["swim-proto.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","swim","proto","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"decode","record","recon","parse","head","key","EventMessage","CommandMessage","SendMessage","LinkRequest","LinkedResponse","UnlinkRequest","UnlinkedResponse","GetRequest","PutRequest","Envelope","RequestEnvelope","ResponseEnvelope","MessageEnvelope","channel","via","node","lane","body","Object","defineProperty","enumerable","value","extant","absent","empty","SendEventMessage","SendCommandMessage","prototype","create","constructor","encode","builder","attr","isAbsent","appendRecord","state","items","iterator","header","isEmpty","item","step","toRecord","next","recon-js",2,"coerce","arguments","Extant","Absent","Attr","Slot","RecordBuilder","appendField","coerceItem","coerceArray","Record","Uint8Array","Array","isArray","toRecon","coerceObject","array","isField","appendValue","object","prop","attrs","string","input","StringIterator","result","DocumentParser","run","stringify","writer","ReconWriter","writeBlock","apply","objectify","isExtant","undefined","objectifyArray","objectifyObject","push","isAttr","base64","data","DataBuilder","cs","appendBase64Char","slot","compare","x","y","equals","index","__proto__","Field","RecordIterator","writable","ValueBuilder","StringIteratee","StringBuilder","isSpace","c","isNewline","isWhitespace","isNameStartChar","isNameChar","isBase64Char","BlockParser","AttrParser","ident","IdentParser","BlockValueParser","field","InlineValueParser","RecordParser","MarkupParser","text","StringParser","DataParser","NumberParser","Function","get","getOwnPropertyNames","isMarkup","isBlank","afterNonText","hasNonText","sections","hasAttrs","hasPrefixAttrs","hasPostfixAttrs","contains","tail","slice","foot","target","these","concat","that","forEach","those","toString","writeRecord","writeAttr","isSlot","writeItem","dup","isAllAttrs","isDone","c1","charCodeAt","c2","Done","isCont","isError","feed","error","unexpectedEOF","append","String","fromCharCode","appendString","prepare","size","expand","base","Math","max","aliased","buffer","set","appendByte","offset","decodeBase64Digit","decodeBase64Quantum","p","q","z","w","subarray","found","expected","Number","writeValue","inMarkup","writeText","writeNumber","writeBool","writeData","writeIdent","writeMarkup","isIdent","writeTextMarkup","writeString","number","bool","encodeBase64Digit"],"mappings":"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","file":"swim-proto.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.swim || (g.swim = {})).proto = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar recon = require('recon-js');\n\n\nfunction decode(record) {\n  if (typeof record === 'string') record = recon.parse(record);\n  switch (record.head().key) {\n    case 'event': return EventMessage.decode(record);\n    case 'command': return CommandMessage.decode(record);\n    case 'send': return SendMessage.decode(record);\n    case 'link': return LinkRequest.decode(record);\n    case 'linked': return LinkedResponse.decode(record);\n    case 'unlink': return UnlinkRequest.decode(record);\n    case 'unlinked': return UnlinkedResponse.decode(record);\n    case 'get': return GetRequest.decode(record);\n    case 'put': return PutRequest.decode(record);\n  }\n}\n\n\nfunction Envelope() {}\nObject.defineProperty(Envelope.prototype, 'isRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isEventMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isCommandMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendEventMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendCommandMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkedResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkedResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isGetRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isPutRequest', {value: false});\n\n\nfunction RequestEnvelope() {\n  Envelope.call(this);\n}\nRequestEnvelope.prototype = Object.create(Envelope.prototype);\nRequestEnvelope.prototype.constructor = RequestEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isRequest', {value: true});\n\n\nfunction ResponseEnvelope() {\n  Envelope.call(this);\n}\nResponseEnvelope.prototype = Object.create(Envelope.prototype);\nResponseEnvelope.prototype.constructor = ResponseEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isResponse', {value: true});\n\n\nfunction MessageEnvelope() {\n  Envelope.call(this);\n}\nMessageEnvelope.prototype = Object.create(Envelope.prototype);\nMessageEnvelope.prototype.constructor = MessageEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isMessage', {value: true});\n\n\nfunction EventMessage(channel, via, node, lane, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nEventMessage.prototype = Object.create(MessageEnvelope.prototype);\nEventMessage.prototype.constructor = EventMessage;\nObject.defineProperty(EventMessage.prototype, 'isEventMessage', {value: true});\nEventMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('event', this.channel);\n  if (!this.via.isAbsent) builder.attr('via', this.via);\n  builder.attr('node', this.node);\n  builder.attr('lane', this.lane);\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nEventMessage.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var via = recon.absent;\n  var node = recon.absent;\n  var lane = recon.absent;\n  header: while (!items.isEmpty()) {\n    var item = items.head();\n    switch (item.key) {\n      case 'event': channel = item.value; break;\n      case 'via': via = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n      default: break header;\n    }\n    items.step();\n  }\n  var body = items.toRecord();\n  return new EventMessage(channel, via, node, lane, body);\n};\n\n\nfunction CommandMessage(channel, via, node, lane, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nCommandMessage.prototype = Object.create(MessageEnvelope.prototype);\nCommandMessage.prototype.constructor = CommandMessage;\nObject.defineProperty(CommandMessage.prototype, 'isCommandMessage', {value: true});\nCommandMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('command', this.channel);\n  if (!this.via.isAbsent) builder.attr('via', this.via);\n  builder.attr('node', this.node);\n  builder.attr('lane', this.lane);\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nCommandMessage.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var via = recon.absent;\n  var node = recon.absent;\n  var lane = recon.absent;\n  header: while (!items.isEmpty()) {\n    var item = items.head();\n    switch (item.key) {\n      case 'command': channel = item.value; break;\n      case 'via': via = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n      default: break header;\n    }\n    items.step();\n  }\n  var body = items.toRecord();\n  return new CommandMessage(channel, via, node, lane, body);\n};\n\n\nfunction SendMessage() {\n  MessageEnvelope.call(this);\n}\nSendMessage.prototype = Object.create(MessageEnvelope.prototype);\nSendMessage.prototype.constructor = SendMessage;\nObject.defineProperty(SendMessage.prototype, 'isSendMessage', {value: true});\nSendMessage.decode = function (record) {\n  switch (record(1).key) {\n    case 'event': return SendEventMessage.decode(record);\n    case 'command': return SendCommandMessage.decode(record);\n  }\n};\n\n\nfunction SendEventMessage(channel, via, node, lane, body) {\n  SendMessage.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nSendEventMessage.prototype = Object.create(SendMessage.prototype);\nSendEventMessage.prototype.constructor = SendEventMessage;\nObject.defineProperty(SendEventMessage.prototype, 'isSendEventMessage', {value: true});\nSendEventMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('send');\n  builder.attr('event', this.channel);\n  if (!this.via.isAbsent) builder.attr('via', this.via);\n  builder.attr('node', this.node);\n  builder.attr('lane', this.lane);\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nSendEventMessage.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var via = recon.absent;\n  var node = recon.absent;\n  var lane = recon.absent;\n  header: while (!items.isEmpty()) {\n    var item = items.head();\n    switch (item.key) {\n      case 'send': break;\n      case 'event': channel = item.value; break;\n      case 'via': via = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n      default: break header;\n    }\n    items.step();\n  }\n  var body = items.toRecord();\n  return new SendEventMessage(channel, via, node, lane, body);\n};\n\n\nfunction SendCommandMessage(channel, via, node, lane, body) {\n  SendMessage.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nSendCommandMessage.prototype = Object.create(SendMessage.prototype);\nSendCommandMessage.prototype.constructor = SendCommandMessage;\nObject.defineProperty(SendCommandMessage.prototype, 'isSendCommandMessage', {value: true});\nSendCommandMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('send');\n  builder.attr('command', this.channel);\n  if (!this.via.isAbsent) builder.attr('via', this.via);\n  builder.attr('node', this.node);\n  builder.attr('lane', this.lane);\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nSendCommandMessage.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var via = recon.absent;\n  var node = recon.absent;\n  var lane = recon.absent;\n  header: while (!items.isEmpty()) {\n    var item = items.head();\n    switch (item.key) {\n      case 'send': break;\n      case 'command': channel = item.value; break;\n      case 'via': via = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n      default: break header;\n    }\n    items.step();\n  }\n  var body = items.toRecord();\n  return new SendCommandMessage(channel, via, node, lane, body);\n};\n\n\nfunction LinkRequest(channel, node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nLinkRequest.prototype.constructor = LinkRequest;\nObject.defineProperty(LinkRequest.prototype, 'isLinkRequest', {value: true});\nLinkRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('link', this.channel),\n    recon.attr('node', this.node),\n    recon.attr('lane', this.lane));\n};\nLinkRequest.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var node = recon.absent;\n  var lane = recon.absent;\n  while (!items.isEmpty()) {\n    var item = items.next();\n    switch (item.key) {\n      case 'link': channel = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n    }\n  }\n  return new LinkRequest(channel, node, lane);\n};\n\n\nfunction LinkedResponse(channel, node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nLinkedResponse.prototype.constructor = LinkedResponse;\nObject.defineProperty(LinkedResponse.prototype, 'isLinkedResponse', {value: true});\nLinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('linked', this.channel),\n    recon.attr('node', this.node),\n    recon.attr('lane', this.lane));\n};\nLinkedResponse.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var node = recon.absent;\n  var lane = recon.absent;\n  while (!items.isEmpty()) {\n    var item = items.next();\n    switch (item.key) {\n      case 'linked': channel = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n    }\n  }\n  return new LinkedResponse(channel, node, lane);\n};\n\n\nfunction UnlinkRequest(channel, node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node || recon.absent});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane || recon.absent});\n}\nUnlinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nUnlinkRequest.prototype.constructor = UnlinkRequest;\nObject.defineProperty(UnlinkRequest.prototype, 'isUnlinkRequest', {value: true});\nUnlinkRequest.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('unlink', this.channel);\n  if (!this.node.isAbsent) builder.attr('node', this.node);\n  if (!this.lane.isAbsent) builder.attr('lane', this.lane);\n  return builder.state();\n};\nUnlinkRequest.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var node = recon.absent;\n  var lane = recon.absent;\n  while (!items.isEmpty()) {\n    var item = items.next();\n    switch (item.key) {\n      case 'unlink': channel = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n    }\n  }\n  return new UnlinkRequest(channel, node, lane);\n};\n\n\nfunction UnlinkedResponse(channel, node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nUnlinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nUnlinkedResponse.prototype.constructor = UnlinkedResponse;\nObject.defineProperty(UnlinkedResponse.prototype, 'isUnlinkedResponse', {value: true});\nUnlinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('unlinked', this.channel),\n    recon.attr('node', this.node),\n    recon.attr('lane', this.lane));\n};\nUnlinkedResponse.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var node = recon.absent;\n  var lane = recon.absent;\n  while (!items.isEmpty()) {\n    var item = items.next();\n    switch (item.key) {\n      case 'unlinked': channel = item.value; break;\n      case 'node': node = item.value; break;\n      case 'lane': lane = item.value; break;\n    }\n  }\n  return new UnlinkedResponse(channel, node, lane);\n};\n\n\nfunction GetRequest(channel, node) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n}\nGetRequest.prototype = Object.create(RequestEnvelope.prototype);\nGetRequest.prototype.constructor = GetRequest;\nObject.defineProperty(GetRequest.prototype, 'isGetRequest', {value: true});\nGetRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('get', this.channel),\n    recon.attr('node', this.node));\n};\nGetRequest.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var node = recon.absent;\n  while (!items.isEmpty()) {\n    var item = items.next();\n    switch (item.key) {\n      case 'get': channel = item.value; break;\n      case 'node': node = item.value; break;\n    }\n  }\n  return new GetRequest(channel, node);\n};\n\n\nfunction PutRequest(channel, node, body) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'channel', {enumerable: true, value: channel || recon.extant});\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nPutRequest.prototype = Object.create(RequestEnvelope.prototype);\nPutRequest.prototype.constructor = PutRequest;\nObject.defineProperty(PutRequest.prototype, 'isPutRequest', {value: true});\nPutRequest.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('put', this.channel);\n  builder.attr('node', this.node);\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nPutRequest.decode = function (record) {\n  var items = record.iterator();\n  var channel = recon.extant;\n  var node = recon.absent;\n  header: while (!items.isEmpty()) {\n    var item = items.head();\n    switch (item.key) {\n      case 'put': channel = item.value; break;\n      case 'node': node = item.value; break;\n      default: break header;\n    }\n    items.step();\n  }\n  var body = items.toRecord();\n  return new PutRequest(channel, node, body);\n};\n\n\nexports.decode = decode;\nexports.Envelope = Envelope;\nexports.RequestEnvelope = RequestEnvelope;\nexports.ResponseEnvelope = ResponseEnvelope;\nexports.MessageEnvelope = MessageEnvelope;\nexports.EventMessage = EventMessage;\nexports.CommandMessage = CommandMessage;\nexports.SendMessage = SendMessage;\nexports.SendEventMessage = SendEventMessage;\nexports.SendCommandMessage = SendCommandMessage;\nexports.LinkRequest = LinkRequest;\nexports.LinkedResponse = LinkedResponse;\nexports.UnlinkRequest = UnlinkRequest;\nexports.UnlinkedResponse = UnlinkedResponse;\nexports.GetRequest = GetRequest;\nexports.PutRequest = PutRequest;\n\n},{\"recon-js\":2}],2:[function(require,module,exports){\n'use strict';\n\nfunction coerce() {\n  if (arguments.length === 1) {\n    var item = arguments[0];\n    if (item === null) return Extant;\n    else if (typeof item === 'undefined') return Absent;\n    else if (item instanceof Attr || item instanceof Slot) {\n      var builder = new RecordBuilder();\n      builder.appendField(item);\n      return builder.state();\n    }\n    else return coerceItem(item);\n  }\n  else if (arguments.length > 1) return coerceArray(arguments);\n  else return Absent;\n}\nfunction coerceItem(item) {\n  if (item === null) return Extant;\n  else if (item instanceof Record ||\n           item instanceof Attr ||\n           item instanceof Slot ||\n           typeof item === 'string' ||\n           typeof item === 'number' ||\n           typeof item === 'boolean' ||\n           item instanceof Uint8Array ||\n           item === Extant ||\n           item === Absent) return item;\n  else if (Array.isArray(item)) return coerceArray(item);\n  else if (typeof item === 'object') {\n    if (item.toRecon && typeof item.toRecon === 'function') return item.toRecon();\n    else return coerceObject(item);\n  }\n  else return Absent;\n}\nfunction coerceArray(array) {\n  var builder = new RecordBuilder();\n  var n = array.length;\n  var i = 0;\n  while (i < n) {\n    var value = coerceItem(array[i]);\n    if (value.isField) builder.appendField(value);\n    else builder.appendValue(value);\n    i += 1;\n  }\n  return builder.state();\n}\nfunction coerceObject(object) {\n  var builder = new RecordBuilder();\n  var prop, key, value;\n  var attrs = object['@'];\n  for (prop in attrs) {\n    key = coerce(prop);\n    if (typeof key === 'string') {\n      value = coerce(attrs[prop]);\n      if (!value.isAbsent) builder.appendField(new Attr(key, value));\n    }\n  }\n  for (prop in object) {\n    if (prop !== '@') {\n      key = coerce(prop);\n      if (!key.isAbsent) {\n        value = coerce(object[prop]);\n        if (!value.isAbsent) builder.appendField(new Slot(key, value));\n      }\n    }\n  }\n  return builder.state();\n}\n\nfunction parse(string) {\n  var input = new StringIterator(string);\n  var result = new DocumentParser().run(input);\n  return result.state();\n}\n\nfunction stringify() {\n  var writer = new ReconWriter();\n  writer.writeBlock(coerce.apply(null, arguments));\n  return writer.state();\n}\n\nfunction objectify(value) {\n  if (value === null || typeof value === 'undefined' || value.isExtant) return null;\n  else if (value.isAbsent) return undefined;\n  else if (value instanceof Record) {\n    if (value.isArray()) return objectifyArray(value);\n    else return objectifyObject(value);\n  }\n  else return value;\n}\nfunction objectifyArray(record) {\n  var array = [];\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var value = objectify(items.head());\n    array.push(value);\n    items.step();\n  }\n  return array;\n}\nfunction objectifyObject(record) {\n  var items = record.iterator();\n  var key, value;\n  var object = {};\n  var attrs = null;\n  var i = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (item.isField) {\n      key = objectify(item.key);\n      value = objectify(item.value);\n      if (item.isAttr) {\n        if (attrs === null) attrs = {};\n        attrs[key] = value;\n      }\n      else object[key] = value;\n    }\n    else {\n      value = objectify(item);\n      object[i] = value;\n    }\n    items.step();\n    i += 1;\n  }\n  if (attrs !== null) object['@'] = attrs;\n  return object;\n}\n\nfunction base64(string) {\n  if (typeof string === 'undefined') return new Uint8Array(0);\n  var data = new DataBuilder();\n  var cs = new StringIterator(string);\n  while (!cs.isEmpty()) {\n    data.appendBase64Char(cs.head());\n    cs.step();\n  }\n  return data.state();\n}\n\nfunction attr(key, value) {\n  if (typeof value === 'undefined') value = Extant;\n  return new Attr(coerce(key), coerce(value));\n}\n\nfunction slot(key, value) {\n  if (typeof value === 'undefined') value = Extant;\n  return new Slot(coerce(key), coerce(value));\n}\n\nfunction empty() {\n  return new Record([], {});\n}\n\nfunction builder() {\n  return new RecordBuilder();\n}\n\nfunction compare(x, y) {\n  if (x === y) return true;\n  if (x instanceof Record && y instanceof Record) return x.equals(y);\n  if (x.isField && y.isField) return x.equals(y);\n  if (x instanceof Uint8Array && y instanceof Uint8Array && x.length === y.length) {\n    var i = 0;\n    var n = x.length;\n    while (i < n && x[i] === y[i]) i += 1;\n    if (i === n) return true;\n  }\n  return false;\n}\n\n\nfunction Record(items, index) {\n  if (typeof index === 'undefined') {\n    index = {};\n    var i = 0;\n    var n = items.length;\n    while (i < n) {\n      var item = items[i];\n      if (item.isField) index[item.key] = item.value;\n      i += 1;\n    }\n  }\n  var record = function(key) {\n    var value = index[key];\n    if (typeof value === 'undefined' && typeof key === 'number') value = items[key];\n    return value;\n  };\n  record.__proto__ = Record.prototype;\n  Object.defineProperty(record, 'items', {value: items});\n  Object.defineProperty(record, 'index', {value: index});\n  return record;\n}\nRecord.prototype = Object.create(Function.prototype);\nRecord.prototype.constructor = Record;\nObject.defineProperty(Record.prototype, 'size', {\n  enumerable: true,\n  get: function () {\n    return this.items.length;\n  }\n});\nRecord.prototype.isEmpty = function () {\n  return this.items.length === 0;\n};\nRecord.prototype.isArray = function () {\n  return this.items.length >= 0 && Object.getOwnPropertyNames(this.index).length === 0;\n};\nRecord.prototype.isMarkup = function () {\n  function isBlank(string) {\n    var cs = new StringIterator(string);\n    while (!cs.isEmpty() && isSpace(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  var items = this.iterator();\n  var afterNonText = false;\n  var hasNonText = false;\n  var sections = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (typeof item !== 'string') {\n      if (afterNonText) return false;\n      afterNonText = true;\n      hasNonText = true;\n    }\n    else if (afterNonText && !isBlank(item)) {\n      afterNonText = false;\n      sections += 1;\n    }\n    else if (sections === 0) sections = 1;\n    items.step();\n  }\n  return hasNonText && sections >= 2;\n};\nRecord.prototype.hasAttrs = function() {\n  return this.items.length > 0 && (this.items[0].isAttr || this.items[this.items.length - 1].isAttr);\n};\nRecord.prototype.hasPrefixAttrs = function () {\n  return this.items.length > 0 && this.items[0].isAttr;\n};\nRecord.prototype.hasPostfixAttrs = function () {\n  return this.items.length > 0 && this.items[this.items.length - 1].isAttr;\n};\nRecord.prototype.contains = function (key) {\n  return typeof this(key) !== 'undefined';\n};\nRecord.prototype.head = function () {\n  return this.items.length > 0 ? this.items[0] : Absent;\n};\nRecord.prototype.tail = function () {\n  return new Record(this.items.slice(1));\n};\nRecord.prototype.body = function () {\n  return new Record(this.items.slice(0, -1));\n};\nRecord.prototype.foot = function () {\n  return this.items.length > 0 ? this.items[this.items.length - 1] : Absent;\n};\nRecord.prototype.target = function () {\n  var these = this.iterator();\n  while (!these.isEmpty()) {\n    var item = these.next();\n    if (!item.isField) return item;\n  }\n  return Absent;\n};\nRecord.prototype.concat = function () {\n  var builder = new RecordBuilder();\n  builder.appendRecord(this);\n  var that = coerce.apply(null, arguments);\n  if (that instanceof Record) builder.appendRecord(that);\n  else builder.appendValue(that);\n  return builder.state();\n};\nRecord.prototype.iterator = function () {\n  return new RecordIterator(this.items);\n};\nRecord.prototype.forEach = function (f) {\n  var these = this.iterator();\n  while (!these.isEmpty()) f(these.next());\n};\nRecord.prototype.equals = function (that) {\n  var these = this.iterator();\n  var those = that.iterator();\n  while (!these.isEmpty() && !those.isEmpty()) {\n    if (!compare(these.next(), those.next())) return false;\n  }\n  return these.isEmpty() && those.isEmpty();\n};\nRecord.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeRecord(this);\n  return writer.state();\n};\n\n\nfunction Field() {}\nObject.defineProperty(Field.prototype, 'isField', {enumerable: true, value: true});\nObject.defineProperty(Field.prototype, 'isAttr', {enumerable: true, value: false});\nObject.defineProperty(Field.prototype, 'isSlot', {enumerable: true, value: false});\n\nfunction Attr(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (typeof value === 'undefined') value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nAttr.prototype = Object.create(Field.prototype);\nAttr.prototype.constructor = Attr;\nObject.defineProperty(Attr.prototype, 'isAttr', {enumerable: true, value: true});\nAttr.prototype.equals = function (that) {\n  return that.isAttr && compare(this.key, that.key) && compare(this.value, that.value);\n};\nAttr.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeAttr(this);\n  return writer.state();\n};\n\nfunction Slot(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (typeof value === 'undefined') value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nSlot.prototype = Object.create(Field.prototype);\nSlot.prototype.constructor = Slot;\nObject.defineProperty(Slot.prototype, 'isSlot', {enumerable: true, value: true});\nSlot.prototype.equals = function (that) {\n  return that.isSlot && compare(this.key, that.key) && compare(this.value, that.value);\n};\nSlot.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeItem(this);\n  return writer.state();\n};\n\n\nvar Extant = {};\nObject.defineProperty(Extant, 'isExtant', {enumerable: true, value: true});\n\nvar Absent = {};\nObject.defineProperty(Absent, 'isAbsent', {enumerable: true, value: true});\n\n\nfunction RecordIterator(items, index) {\n  Object.defineProperty(this, 'items', {value: items});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nRecordIterator.prototype.isEmpty = function () {\n  return this.index >= this.items.length;\n};\nRecordIterator.prototype.head = function () {\n  if (this.index >= this.items.length) throw 'head of empty iterator';\n  return this.items[this.index];\n};\nRecordIterator.prototype.step = function () {\n  if (this.index >= this.items.length) throw 'empty iterator step';\n  this.index += 1;\n};\nRecordIterator.prototype.next = function () {\n  if (this.index >= this.items.length) return null;\n  var item = this.items[this.index];\n  this.index += 1;\n  return item;\n};\nRecordIterator.prototype.dup = function () {\n  return new RecordIterator(this.items, this.index);\n};\nRecordIterator.prototype.toRecord = function () {\n  return new Record(this.items.slice(this.index));\n};\nRecordIterator.prototype.isAllAttrs = function () {\n  var items = this.dup();\n  while (!items.isEmpty()) {\n    if (!items.next().isAttr) return false;\n  }\n  return true;\n};\n\n\nfunction RecordBuilder() {\n  Object.defineProperty(this, 'items', {value: []});\n  Object.defineProperty(this, 'index', {value: {}});\n}\nRecordBuilder.prototype.appendField = function (field) {\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nRecordBuilder.prototype.appendValue = function (value) {\n  this.items.push(value);\n};\nRecordBuilder.prototype.appendRecord = function (record) {\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var item = items.next();\n    if (item.isField) this.appendField(item);\n    else this.appendValue(item);\n  }\n};\nRecordBuilder.prototype.attr = function (key, value) {\n  this.appendField(attr(key, value));\n  return this;\n};\nRecordBuilder.prototype.slot = function (key, value) {\n  this.appendField(slot(key, value));\n  return this;\n};\nRecordBuilder.prototype.item = function (value) {\n  this.appendValue(coerceItem(value));\n  return this;\n};\nRecordBuilder.prototype.state = function () {\n  return new Record(this.items, this.index);\n};\n\n\nfunction ValueBuilder() {\n  Object.defineProperty(this, 'items', {value: null, writable: true});\n  Object.defineProperty(this, 'index', {value: null, writable: true});\n  Object.defineProperty(this, 'value', {value: null, writable: true});\n}\nValueBuilder.prototype.appendField = function (field) {\n  if (this.items === null) {\n    this.items = [];\n    this.index = {};\n    if (this.value !== null) {\n      this.items.push(this.value);\n      this.value = null;\n    }\n  }\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nValueBuilder.prototype.appendValue = function (value) {\n  if (this.items !== null) this.items.push(value);\n  else if (this.value === null) this.value = value;\n  else {\n    this.items = [];\n    this.index = {};\n    this.items.push(this.value);\n    this.value = null;\n    this.items.push(value);\n  }\n};\nValueBuilder.prototype.state = function () {\n  if (this.value !== null) return this.value;\n  else if (this.items !== null) return new Record(this.items, this.index);\n  else return Absent;\n};\n\n\nfunction StringIterator(string, index) {\n  Object.defineProperty(this, 'string', {value: string || ''});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nStringIterator.prototype.isDone = function () {\n  return false;\n};\nStringIterator.prototype.isEmpty = function () {\n  return this.index >= this.string.length;\n};\nStringIterator.prototype.head = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) return c1; // U+0000..U+D7FF | U+E000..U+FFFF\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      return (((c1 & 0x3FF) << 10) | (c2 & 0x3FF)) + 0x10000;\n    else return 0xFFFD;\n  }\n  else return 0xFFFD;\n};\nStringIterator.prototype.step = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) // U+0000..U+D7FF | U+E000..U+FFFF\n    this.index += 1;\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      this.index += 2;\n    else this.index += 1;\n  }\n  else this.index += 1;\n};\n\nStringIterator.Done = {\n  isDone: function () {\n    return true;\n  },\n  isEmpty: function () {\n    return true;\n  },\n  head: function () {\n    throw 'head of empty iterator';\n  },\n  step: function () {\n    throw 'empty iterator step';\n  }\n};\nStringIterator.Done.prototype = Object.create(StringIterator.prototype);\n\n\nfunction StringIteratee() {}\nStringIteratee.prototype.isCont = function () {\n  return true;\n};\nStringIteratee.prototype.isDone = function () {\n  return false;\n};\nStringIteratee.prototype.isError = function () {\n  return false;\n};\nStringIteratee.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.prototype.run = function (input) {\n  var next = this;\n  while (!input.isEmpty() && next.isCont()) next = next.feed(input);\n  if (input.isEmpty() && !input.isDone() && next.isCont()) next = next.feed(StringIterator.Done);\n  return next;\n};\n\nStringIteratee.Done = function (value) {\n  StringIteratee.call(this);\n  this.value = value;\n};\nStringIteratee.Done.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Done.prototype.constructor = StringIteratee.Done;\nStringIteratee.Done.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Done.prototype.isDone = function () {\n  return true;\n};\nStringIteratee.Done.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Done.prototype.state = function () {\n  return this.value;\n};\n\nStringIteratee.Error = function (error) {\n  StringIteratee.call(this);\n  this.error = error;\n};\nStringIteratee.Error.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Error.prototype.constructor = StringIteratee.Error;\nStringIteratee.Error.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Error.prototype.isError = function () {\n  return true;\n};\nStringIteratee.Error.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Error.prototype.state = function () {\n  throw this.error;\n};\n\nStringIteratee.unexpectedEOF = new StringIteratee.Error('unexpected end of input');\n\n\nfunction StringBuilder() {\n  Object.defineProperty(this, 'string', {value: '', writable: true});\n}\nStringBuilder.prototype.append = function (c) {\n  if ((c >= 0x0000 && c <= 0xD7FF) ||\n      (c >= 0xE000 && c <= 0xFFFF)) { // U+0000..U+D7FF | U+E000..U+FFFF\n    this.string += String.fromCharCode(c);\n  }\n  else if (c >= 0x10000 && c <= 0x10FFFF) { // U+10000..U+10FFFF\n    var u = c - 0x10000;\n    this.string += String.fromCharCode(0xD800 | (u >>> 10), 0xDC00 | (u & 0x3FF));\n  }\n  else { // invalid code point\n    this.string += String.fromCharCode(0xFFFD);\n  }\n};\nStringBuilder.prototype.appendString = function (s) {\n  var cs = new StringIterator(s);\n  while (!cs.isEmpty()) {\n    this.append(cs.head());\n    cs.step();\n  }\n};\nStringBuilder.prototype.state = function () {\n  return this.string;\n};\n\n\nfunction DataBuilder() {\n  Object.defineProperty(this, 'buffer', {value: null, writable: true});\n  Object.defineProperty(this, 'offset', {value: 0, writable: true});\n  Object.defineProperty(this, 'aliased', {value: true, writable: true});\n  Object.defineProperty(this, 'p', {value: 0, writable: true});\n  Object.defineProperty(this, 'q', {value: 0, writable: true});\n  Object.defineProperty(this, 'r', {value: 0, writable: true});\n  Object.defineProperty(this, 's', {value: 0, writable: true});\n}\nDataBuilder.prototype.prepare = function (size) {\n  function expand(base, size) {\n    var n = Math.max(base, size) - 1;\n    n |= n >> 1; n |= n >> 2; n |= n >> 4; n |= n >> 8;\n    return n + 1;\n  }\n  if (this.aliased || size > this.buffer.length) {\n    var array = new Uint8Array(expand(256, size));\n    if (this.buffer) array.set(this.buffer);\n    this.buffer = array;\n    this.aliased = false;\n  }\n};\nDataBuilder.prototype.appendByte = function (value) {\n  this.prepare(this.offset + 1);\n  this.buffer[this.offset] = value;\n  this.offset += 1;\n};\nDataBuilder.prototype.decodeBase64Digit = function (c) {\n  if (c >= 65/*'A'*/ && c <= 90/*'Z'*/) return c - 65/*'A'*/;\n  else if (c >= 97/*'a'*/ && c <= 122/*'z'*/) return c - 71/*'a' - 26*/;\n  else if (c >= 48/*'0'*/ && c <= 57/*'9'*/) return c + 4/*52 - '0'*/;\n  else if (c === 43/*'+'*/ || c === 45/*'-'*/) return 62;\n  else if (c === 47/*'/'*/ || c === 95/*'_'*/) return 63;\n};\nDataBuilder.prototype.decodeBase64Quantum = function () {\n  var x = this.decodeBase64Digit(this.p);\n  var y = this.decodeBase64Digit(this.q);\n  if (this.r !== 61/*'='*/) {\n    var z = this.decodeBase64Digit(this.r);\n    if (this.s !== 61/*'='*/) {\n      var w = this.decodeBase64Digit(this.s);\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n      this.appendByte((z << 6) | w);\n    }\n    else {\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n    }\n  }\n  else {\n    if (this.s !== 61/*'='*/) throw 'incomplete base64 quantum';\n    this.appendByte((x << 2) | (y >>> 4));\n  }\n};\nDataBuilder.prototype.appendBase64Char = function (c) {\n  if (this.p === 0) this.p = c;\n  else if (this.q === 0) this.q = c;\n  else if (this.r === 0) this.r = c;\n  else {\n    this.s = c;\n    this.decodeBase64Quantum();\n    this.s = 0;\n    this.r = 0;\n    this.q = 0;\n    this.p = 0;\n  }\n};\nDataBuilder.prototype.state = function (value) {\n  if (!this.buffer) this.buffer = new Uint8Array(0);\n  else if (this.buffer.length !== this.offset) {\n    var array = new Uint8Array(this.offset);\n    array.set(this.buffer.subarray(0, this.offset));\n    this.buffer = array;\n  }\n  this.aliased = true;\n  return this.buffer;\n};\n\n\nfunction isSpace(c) {\n  return c === 0x20 || c === 0x9;\n}\nfunction isNewline(c) {\n  return c === 0xA || c === 0xD;\n}\nfunction isWhitespace(c) {\n  return isSpace(c) || isNewline(c);\n}\nfunction isNameStartChar(c) {\n  return (\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x2FF ||\n    c >= 0x370 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isNameChar(c) {\n  return (\n    c === 45/*'-'*/ ||\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 0xB7 ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x203F && c <= 0x2040 ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isBase64Char(c) {\n  return (\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 43/*'+'*/ || c === 45/*'-'*/ ||\n    c === 47/*'/'*/ || c === 95/*'_'*/);\n}\n\n\nfunction DocumentParser(value) {\n  StringIteratee.call(this);\n  this.value = value || new BlockParser();\n}\nDocumentParser.prototype = Object.create(StringIteratee.prototype);\nDocumentParser.prototype.constructor = DocumentParser;\nDocumentParser.prototype.feed = function (input) {\n  var value = this.value;\n  while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n  if (value.isError()) return value;\n  if (value.isDone()) {\n    if (!input.isEmpty()) return new StringIteratee.Error({found: input.head()});\n    else if (input.isDone()) return value;\n  }\n  return new DocumentParser(value);\n};\n\n\nfunction BlockParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockParser.prototype = Object.create(StringIteratee.prototype);\nBlockParser.prototype.constructor = BlockParser;\nBlockParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new ValueBuilder();\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) s = 2;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 2) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 3;\n      else if (key.isError()) return key;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 4;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 6;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 5;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 1;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n  }\n  return new BlockParser(builder, key, value, s);\n};\n\n\nfunction AttrParser(ident, value, s) {\n  StringIteratee.call(this);\n  this.ident = ident || new IdentParser();\n  this.value = value || new BlockParser();\n  this.s = s || 1;\n}\nAttrParser.prototype = Object.create(StringIteratee.prototype);\nAttrParser.prototype.constructor = AttrParser;\nAttrParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var ident = this.ident;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 64/*'@'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'@\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    ident = ident.feed(input);\n    if (ident.isDone()) s = 3;\n    else if (ident.isError()) return ident;\n  }\n  if (s === 3) {\n    if (!input.isEmpty() && input.head() === 40/*'('*/) {\n      input.step();\n      s = 4;\n    }\n    else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(new Attr(ident.state()));\n  }\n  if (s === 4) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state()));\n      }\n      else s = 5;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 5) {\n    while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n    if (value.isDone()) s = 6;\n    else if (value.isError()) return value;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state(), value.state()));\n      }\n      else return new StringIteratee.Error({expected: '\\')\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  return new AttrParser(ident, value, s);\n};\n\n\nfunction BlockValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockValueParser.prototype = Object.create(StringIteratee.prototype);\nBlockValueParser.prototype.constructor = BlockValueParser;\nBlockValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          value = new RecordParser(builder);\n          s = 5;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          value = new MarkupParser(builder);\n          s = 5;\n        }\n        else if (c === 34/*'\"'*/) {\n          value = new StringParser();\n          s = 4;\n        }\n        else if (c === 37/*'%'*/) {\n          value = new DataParser();\n          s = 4;\n        }\n        else if (c === 45/*'-'*/ || c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n          value = new NumberParser();\n          s = 4;\n        }\n        else if (isNameStartChar(c)) {\n          value = new IdentParser();\n          s = 4;\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) {\n        if (input.head() === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 7;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 7) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 6;\n      }\n      else if (field.isError()) return field;\n    }\n  }\n  return new BlockValueParser(builder, field, value, s);\n};\n\n\nfunction InlineValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nInlineValueParser.prototype = Object.create(StringIteratee.prototype);\nInlineValueParser.prototype.constructor = InlineValueParser;\nInlineValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          if (builder) {\n            value = new RecordParser(builder);\n            s = 5;\n          }\n          else {\n            value = new RecordParser();\n            s = 4;\n          }\n        }\n        else if (c === 91/*'['*/) {\n          if (builder) {\n            value = new MarkupParser(builder);\n            s = 5;\n          }\n          else {\n            value = new MarkupParser();\n            s = 4;\n          }\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        return new StringIteratee.Done(builder.state());\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) return new StringIteratee.Done(builder.state());\n      else if (value.isError()) return value;\n    }\n  }\n  return new InlineValueParser(builder, field, value, s);\n};\n\n\nfunction RecordParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nRecordParser.prototype = Object.create(StringIteratee.prototype);\nRecordParser.prototype.constructor = RecordParser;\nRecordParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new RecordBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 123/*'{'*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'{\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n        else s = 3;\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 4;\n      else if (key.isError()) return key;\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 5;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 7;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 6;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 6) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 7;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 7) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 2;\n        }\n        else if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n       else return new StringIteratee.Error({expected: '\\'}\\', \\';\\', \\',\\', or newline', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new RecordParser(builder, key, value, s);\n};\n\n\nfunction MarkupParser(builder, text, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.text = text || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nMarkupParser.prototype = Object.create(StringIteratee.prototype);\nMarkupParser.prototype.constructor = MarkupParser;\nMarkupParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var text = this.text;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 91/*'['*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'[\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(),\n          c !== 64/*'@'*/ &&\n          c !== 91/*'['*/ &&\n          c !== 92/*'\\\\'*/ &&\n          c !== 93/*']'*/ &&\n          c !== 123/*'{'*/ &&\n          c !== 125/*'}'*/)) {\n        input.step();\n        text = text || new StringBuilder();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 93/*']'*/) {\n          input.step();\n          builder = builder || new RecordBuilder();\n          if (text) builder.appendValue(text.state());\n          return new StringIteratee.Done(builder.state());\n        }\n        else if (c === 64/*'@'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new InlineValueParser();\n          s = 3;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new RecordParser(builder);\n          s = 4;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new MarkupParser(builder);\n          s = 4;\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 5;\n        }\n        else new StringIteratee.Error({found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendValue(value.state());\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        text = text || new StringBuilder();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new MarkupParser(builder, text, value, s);\n};\n\n\nfunction StringParser(text, s) {\n  StringIteratee.call(this);\n  this.text = text || null;\n  this.s = s || 1;\n}\nStringParser.prototype = Object.create(StringIteratee.prototype);\nStringParser.prototype.constructor = StringParser;\nStringParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var text = this.text;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 34/*'\"'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'\"\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      text = text || new StringBuilder();\n      while (!input.isEmpty() && (c = input.head(), c !== 34/*'\"'*/ && c !== 92/*'\\\\'*/)) {\n        input.step();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 34/*'\"'*/) {\n          input.step();\n          return new StringIteratee.Done(text.state());\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 3;\n        }\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new StringParser(text, s);\n};\n\n\nfunction DataParser(data, s) {\n  StringIteratee.call(this);\n  this.data = data || null;\n  this.s = s || 1;\n}\nDataParser.prototype = Object.create(StringIteratee.prototype);\nDataParser.prototype.constructor = DataParser;\nDataParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var data = this.data || new DataBuilder();\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 37/*'%'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'%\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 3;\n      }\n      else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(data.state());\n    }\n    if (s === 3) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 4;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 4) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 5;\n        else s = 6;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 5) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 2;\n        else return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    else if (s === 6) {\n      if (!input.isEmpty() && (c = input.head(), c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'=\\'', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new DataParser(data, s);\n};\n\n\nfunction NumberParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nNumberParser.prototype = Object.create(StringIteratee.prototype);\nNumberParser.prototype.constructor = NumberParser;\nNumberParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder || new StringBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 2;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 48/*'0'*/) {\n        input.step();\n        builder.append(c);\n        s = 4;\n      }\n      else if (c >= 49/*'1'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 3;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 3) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 4;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 4) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 46/*'.'*/) {\n        input.step();\n        builder.append(c);\n        s = 5;\n      }\n      else if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n        input.step();\n        builder.append(c);\n        s = 8;\n      }\n      else return new StringIteratee.Done(Number(builder.state()));\n    }\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 5) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 6;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 7;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 7) {\n    c = input.head();\n    if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n      input.step();\n      builder.append(c);\n      s = 8;\n    }\n    else return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 8) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 43/*'+'*/ || c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 9;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 9) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 10;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 10) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  return new NumberParser(builder, s);\n};\n\nfunction IdentParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nIdentParser.prototype = Object.create(StringIteratee.prototype);\nIdentParser.prototype.constructor = IdentParser;\nIdentParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), isNameStartChar(c))) {\n      builder = builder || new StringBuilder();\n      input.step();\n      builder.append(c);\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'identitifer', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    while (!input.isEmpty() && (c = input.head(), isNameChar(c))) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) {\n      var value = builder.state();\n      if (value === 'true') value = true;\n      else if (value === 'false') value = false;\n      return new StringIteratee.Done(value);\n    }\n  }\n  return new IdentParser(builder, s);\n};\n\n\nfunction ReconWriter(builder) {\n  Object.defineProperty(this, 'builder', {value: builder || new StringBuilder()});\n}\nReconWriter.prototype.writeValue = function (value, inMarkup) {\n  if (value instanceof Record) this.writeRecord(value, inMarkup);\n  else if (typeof value === 'string') this.writeText(value, inMarkup);\n  else if (typeof value === 'number') this.writeNumber(value);\n  else if (typeof value === 'boolean') this.writeBool(value);\n  else if (value instanceof Uint8Array) this.writeData(value);\n};\nReconWriter.prototype.writeAttr = function(attr) {\n  this.builder.append(64/*'@'*/);\n  this.writeIdent(attr.key);\n  if (!attr.value.isExtant) {\n    this.builder.append(40/*'('*/);\n    this.writeBlock(attr.value);\n    this.builder.append(41/*')'*/);\n  }\n};\nReconWriter.prototype.writeItem = function(item) {\n  if (item.isField) {\n    this.writeValue(item.key);\n    this.builder.append(58/*':'*/);\n    if (!item.value.isExtant) this.writeValue(item.value);\n  }\n  else this.writeValue(item);\n};\nReconWriter.prototype.writeBlock = function (value) {\n  if (!(value instanceof Record)) this.writeValue(value);\n  else if (value.isMarkup()) this.writeMarkup(value);\n  else if (value.hasAttrs()) this.writeRecord(value);\n  else {\n    var items = value.iterator();\n    if (!items.isEmpty()) {\n      this.writeItem(items.next());\n      while (!items.isEmpty()) {\n        this.builder.append(44/*','*/);\n        this.writeItem(items.next());\n      }\n    }\n  }\n};\nReconWriter.prototype.writeRecord = function (record, inMarkup) {\n  if (record.isMarkup()) this.writeMarkup(record);\n  else {\n    var items = record.iterator();\n    var item;\n    var hasAttrs = false;\n    while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n      this.writeAttr(item);\n      items.step();\n      hasAttrs = true;\n    }\n    if (!items.isEmpty()) {\n      items.step();\n      if (hasAttrs && items.isEmpty()) {\n        if (inMarkup) {\n          if (item instanceof Record || typeof item === 'string') this.writeValue(item, inMarkup);\n          else {\n            this.builder.append(123/*'{'*/);\n            this.writeItem(item);\n            this.builder.append(125/*'}'*/);\n          }\n        }\n        else if (item instanceof Record || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else if (!items.isEmpty() && items.isAllAttrs()) {\n        if (item instanceof Record || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          if (hasAttrs) this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else {\n        this.builder.append(123/*'{'*/);\n        this.writeItem(item);\n        while (!items.isEmpty() && ((item = items.head(), !item.isAttr) || !items.isAllAttrs)) {\n          this.builder.append(44/*','*/);\n          this.writeItem(item);\n          items.step();\n        }\n        this.builder.append(125/*'}'*/);\n      }\n      while (!items.isEmpty()) this.writeAttr(items.next());\n    }\n    else if (!hasAttrs) {\n      this.builder.append(123/*'{'*/);\n      this.builder.append(125/*'}'*/);\n    }\n  }\n};\nReconWriter.prototype.writeMarkup = function (record) {\n  var items = record.iterator();\n  var item;\n  var hasAttrs = false;\n  while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n    this.writeAttr(item);\n    items.step();\n    hasAttrs = true;\n  }\n  this.builder.append(91/*'['*/);\n  while (!items.isEmpty()) {\n    item = items.head();\n    if (typeof item === 'string') {\n      var cs = new StringIterator(item);\n      while (!cs.isEmpty()) {\n        var c = cs.head();\n        switch (c) {\n          case 64/*'@'*/:\n          case 91/*'['*/:\n          case 92/*'\\\\'*/:\n          case 93/*']'*/:\n          case 123/*'{'*/:\n          case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n          default: this.builder.append(c);\n        }\n        cs.step();\n      }\n    }\n    else if (item instanceof Record) this.writeRecord(item, true);\n    else {\n      this.builder.append(123/*'{'*/);\n      this.writeItem(item);\n      this.builder.append(125/*'}'*/);\n    }\n    items.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeText = function (text, inMarkup) {\n  function isIdent() {\n    var cs = new StringIterator(text);\n    if (cs.isEmpty() || !isNameStartChar(cs.head())) return false;\n    cs.step();\n    while (!cs.isEmpty() && isNameChar(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  if (inMarkup) this.writeTextMarkup(text);\n  else if (isIdent()) this.writeIdent(text);\n  else this.writeString(text);\n};\nReconWriter.prototype.writeString = function (string) {\n  var cs = new StringIterator(string);\n  this.builder.append(34/*'\"'*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 34/*'\"'*/:\n      case 92/*'\\\\'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      case 8/*'\\b'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(98/*'b'*/); break;\n      case 12/*'\\f'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(102/*'f'*/); break;\n      case 10/*'\\n'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(110/*'n'*/); break;\n      case 13/*'\\r'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(114/*'r'*/); break;\n      case 9/*'\\t'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(116/*'t'*/); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(34/*'\"'*/);\n};\nReconWriter.prototype.writeIdent = function (ident) {\n  this.builder.appendString(ident);\n};\nReconWriter.prototype.writeTextMarkup = function (text) {\n  var cs = new StringIterator(text);\n  this.builder.append(91/*'['*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 64/*'@'*/:\n      case 91/*'['*/:\n      case 92/*'\\\\'*/:\n      case 93/*']'*/:\n      case 123/*'{'*/:\n      case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeNumber = function (number) {\n  this.builder.appendString(number.toString());\n};\nReconWriter.prototype.writeBool = function (bool) {\n  this.builder.appendString(bool.toString());\n};\nReconWriter.prototype.writeData = function (data) {\n  function encodeBase64Digit(x) {\n    if      (x >=  0 && x < 26) return x + 65/*'A'*/;\n    else if (x >= 26 && x < 52) return x + 71/*('a' - 26)*/;\n    else if (x >= 52 && x < 62) return x - 4/*-('0' - 52)*/;\n    else if (x === 62) return 43/*'+'*/;\n    else if (x === 63) return 47/*'/'*/;\n  }\n  this.builder.append(37/*'%'*/);\n  var i = 0;\n  var n = data.length;\n  var x, y, z;\n  while (i + 2 < n) {\n    x = data[i];\n    y = data[i + 1];\n    z = data[i + 2];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit(((y << 2) | (z >>> 6)) & 0x3F));\n    this.builder.append(encodeBase64Digit(z & 0x3F));\n    i += 3;\n  }\n  if (i + 1 < n) {\n    x = data[i];\n    y = data[i + 1];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit((y << 2) & 0x3F));\n    this.builder.append(61/*'='*/);\n    i += 2;\n  }\n  else if (i < n) {\n    x = data[i];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit((x << 4) & 0x3F));\n    this.builder.append(61/*'='*/);\n    this.builder.append(61/*'='*/);\n    i += 1;\n  }\n};\nReconWriter.prototype.state = function () {\n  return this.builder.state();\n};\n\n\nmodule.exports = function () {\n  return coerce.apply(null, arguments);\n};\nexports = module.exports;\nexports.parse = parse;\nexports.stringify = stringify;\nexports.objectify = objectify;\nexports.Record = Record;\nexports.Field = Field;\nexports.Attr = Attr;\nexports.Slot = Slot;\nexports.attr = attr;\nexports.slot = slot;\nexports.base64 = base64;\nexports.extant = Extant;\nexports.absent = Absent;\nexports.empty = empty;\nexports.builder = builder;\nexports.compare = compare;\n\n},{}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}