{"version":3,"sources":["swim-proto.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","swim","proto","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"decode","record","recon","parse","head","key","EventMessage","CommandMessage","SendMessage","GetRequest","PutRequest","StateResponse","LinkRequest","LinkedResponse","UnlinkRequest","UnlinkedResponse","Envelope","RequestEnvelope","ResponseEnvelope","MessageEnvelope","node","lane","via","body","Object","defineProperty","enumerable","value","absent","empty","SendEventMessage","SendCommandMessage","prototype","create","constructor","encode","builder","heading","slot","isAbsent","attr","state","appendRecord","tail","Record","headers","iterator","isEmpty","header","next","isField","items","step","toRecord","isExtant","recon-js",2,"coerce","arguments","item","Extant","Absent","Attr","Slot","RecordBuilder","appendField","coerceItem","coerceArray","Uint8Array","Array","isArray","toRecon","coerceObject","array","appendValue","object","prop","attrs","string","input","StringIterator","result","DocumentParser","run","stringify","writer","ReconWriter","writeBlock","apply","objectify","undefined","objectifyArray","objectifyObject","push","isAttr","base64","data","DataBuilder","cs","appendBase64Char","compare","x","y","equals","index","__proto__","Field","RecordIterator","writable","ValueBuilder","StringIteratee","StringBuilder","isSpace","c","isNewline","isWhitespace","isNameStartChar","isNameChar","isBase64Char","BlockParser","AttrParser","ident","IdentParser","BlockValueParser","field","InlineValueParser","RecordParser","MarkupParser","text","StringParser","DataParser","NumberParser","Function","get","getOwnPropertyNames","isMarkup","isBlank","afterNonText","hasNonText","sections","hasAttrs","hasPrefixAttrs","hasPostfixAttrs","contains","slice","foot","target","these","concat","that","forEach","those","toString","writeRecord","writeAttr","isSlot","writeItem","dup","isAllAttrs","isDone","c1","charCodeAt","c2","Done","isCont","isError","feed","error","unexpectedEOF","append","String","fromCharCode","appendString","prepare","size","expand","base","Math","max","aliased","buffer","set","appendByte","offset","decodeBase64Digit","decodeBase64Quantum","p","q","z","w","subarray","found","expected","Number","writeValue","inMarkup","writeText","writeNumber","writeBool","writeData","writeIdent","writeMarkup","isIdent","writeTextMarkup","writeString","number","bool","encodeBase64Digit","extant"],"mappings":"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","file":"swim-proto.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.swim || (g.swim = {})).proto = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar recon = require('recon-js');\n\n\nfunction decode(record) {\n  if (typeof record === 'string') record = recon.parse(record);\n  switch (record.head().key) {\n    case 'event': return EventMessage.decode(record);\n    case 'command': return CommandMessage.decode(record);\n    case 'send': return SendMessage.decode(record);\n    case 'get': return GetRequest.decode(record);\n    case 'put': return PutRequest.decode(record);\n    case 'state': return StateResponse.decode(record);\n    case 'link': return LinkRequest.decode(record);\n    case 'linked': return LinkedResponse.decode(record);\n    case 'unlink': return UnlinkRequest.decode(record);\n    case 'unlinked': return UnlinkedResponse.decode(record);\n  }\n}\n\n\nfunction Envelope() {}\nObject.defineProperty(Envelope.prototype, 'isRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isEventMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isCommandMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendEventMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendCommandMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isGetRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isPutRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isStateResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkedResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkedResponse', {value: false});\n\n\nfunction RequestEnvelope() {\n  Envelope.call(this);\n}\nRequestEnvelope.prototype = Object.create(Envelope.prototype);\nRequestEnvelope.prototype.constructor = RequestEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isRequest', {value: true});\n\n\nfunction ResponseEnvelope() {\n  Envelope.call(this);\n}\nResponseEnvelope.prototype = Object.create(Envelope.prototype);\nResponseEnvelope.prototype.constructor = ResponseEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isResponse', {value: true});\n\n\nfunction MessageEnvelope() {\n  Envelope.call(this);\n}\nMessageEnvelope.prototype = Object.create(Envelope.prototype);\nMessageEnvelope.prototype.constructor = MessageEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isMessage', {value: true});\n\n\nfunction EventMessage(node, lane, via, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nEventMessage.prototype = Object.create(MessageEnvelope.prototype);\nEventMessage.prototype.constructor = EventMessage;\nObject.defineProperty(EventMessage.prototype, 'isEventMessage', {value: true});\nEventMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  var heading = recon.builder();\n  heading.slot('node', this.node);\n  heading.slot('lane', this.lane);\n  if (!this.via.isAbsent) heading.slot('via', this.via);\n  builder.attr('event', heading.state());\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nEventMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var via = recon.absent;\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n        case 'via': via = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n        case 2: via = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new EventMessage(node, lane, via, body);\n};\n\n\nfunction CommandMessage(node, lane, via, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nCommandMessage.prototype = Object.create(MessageEnvelope.prototype);\nCommandMessage.prototype.constructor = CommandMessage;\nObject.defineProperty(CommandMessage.prototype, 'isCommandMessage', {value: true});\nCommandMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  var heading = recon.builder();\n  heading.slot('node', this.node);\n  heading.slot('lane', this.lane);\n  if (!this.via.isAbsent) heading.slot('via', this.via);\n  builder.attr('command', heading.state());\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nCommandMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var via = recon.absent;\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n        case 'via': via = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n        case 2: via = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new CommandMessage(node, lane, via, body);\n};\n\n\nfunction SendMessage() {\n  MessageEnvelope.call(this);\n}\nSendMessage.prototype = Object.create(MessageEnvelope.prototype);\nSendMessage.prototype.constructor = SendMessage;\nObject.defineProperty(SendMessage.prototype, 'isSendMessage', {value: true});\nSendMessage.decode = function (record) {\n  var heading = record(1);\n  switch (heading.key) {\n    case 'event': return SendEventMessage.decode(record);\n    case 'command': return SendCommandMessage.decode(record);\n  }\n};\n\n\nfunction SendEventMessage(node, lane, body) {\n  SendMessage.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nSendEventMessage.prototype = Object.create(SendMessage.prototype);\nSendEventMessage.prototype.constructor = SendEventMessage;\nObject.defineProperty(SendEventMessage.prototype, 'isSendEventMessage', {value: true});\nSendEventMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('send');\n  builder.attr('event', recon(\n    recon.slot('node', this.node),\n    recon.slot('lane', this.lane)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nSendEventMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var items = record.iterator();\n  items.step(); // @send\n  var heading = items.next();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  var body = items.toRecord();\n  return new SendEventMessage(node, lane, body);\n};\n\n\nfunction SendCommandMessage(node, lane, body) {\n  SendMessage.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nSendCommandMessage.prototype = Object.create(SendMessage.prototype);\nSendCommandMessage.prototype.constructor = SendCommandMessage;\nObject.defineProperty(SendCommandMessage.prototype, 'isSendCommandMessage', {value: true});\nSendCommandMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('send');\n  builder.attr('command', recon(\n    recon.slot('node', this.node),\n    recon.slot('lane', this.lane)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nSendCommandMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var items = record.iterator();\n  items.step(); // @send\n  var heading = items.next();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  var body = items.toRecord();\n  return new SendCommandMessage(node, lane, body);\n};\n\n\nfunction GetRequest(node) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n}\nGetRequest.prototype = Object.create(RequestEnvelope.prototype);\nGetRequest.prototype.constructor = GetRequest;\nObject.defineProperty(GetRequest.prototype, 'isGetRequest', {value: true});\nGetRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('get', recon(\n      recon.slot('node', this.node))));\n};\nGetRequest.decode = function (record) {\n  var node = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new GetRequest(node);\n};\n\n\nfunction PutRequest(node, body) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nPutRequest.prototype = Object.create(RequestEnvelope.prototype);\nPutRequest.prototype.constructor = PutRequest;\nObject.defineProperty(PutRequest.prototype, 'isPutRequest', {value: true});\nPutRequest.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('put', recon(\n    recon.slot('node', this.node)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nPutRequest.decode = function (record) {\n  var node = '';\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new PutRequest(node, body);\n};\n\n\nfunction StateResponse(node, body) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nStateResponse.prototype = Object.create(ResponseEnvelope.prototype);\nStateResponse.prototype.constructor = StateResponse;\nObject.defineProperty(StateResponse.prototype, 'isStateResponse', {value: true});\nStateResponse.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('state', recon(\n    recon.slot('node', this.node)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nStateResponse.decode = function (record) {\n  var node = '';\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new StateResponse(node, body);\n};\n\n\nfunction LinkRequest(node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nLinkRequest.prototype.constructor = LinkRequest;\nObject.defineProperty(LinkRequest.prototype, 'isLinkRequest', {value: true});\nLinkRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('link', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nLinkRequest.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new LinkRequest(node, lane);\n};\n\n\nfunction LinkedResponse(node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nLinkedResponse.prototype.constructor = LinkedResponse;\nObject.defineProperty(LinkedResponse.prototype, 'isLinkedResponse', {value: true});\nLinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('linked', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nLinkedResponse.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new LinkedResponse(node, lane);\n};\n\n\nfunction UnlinkRequest(node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nUnlinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nUnlinkRequest.prototype.constructor = UnlinkRequest;\nObject.defineProperty(UnlinkRequest.prototype, 'isUnlinkRequest', {value: true});\nUnlinkRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('unlink', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nUnlinkRequest.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new UnlinkRequest(node, lane);\n};\n\n\nfunction UnlinkedResponse(node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nUnlinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nUnlinkedResponse.prototype.constructor = UnlinkedResponse;\nObject.defineProperty(UnlinkedResponse.prototype, 'isUnlinkedResponse', {value: true});\nUnlinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('unlinked', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nUnlinkedResponse.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new UnlinkedResponse(node, lane);\n};\n\n\nexports.decode = decode;\nexports.Envelope = Envelope;\nexports.RequestEnvelope = RequestEnvelope;\nexports.ResponseEnvelope = ResponseEnvelope;\nexports.MessageEnvelope = MessageEnvelope;\nexports.EventMessage = EventMessage;\nexports.CommandMessage = CommandMessage;\nexports.SendMessage = SendMessage;\nexports.SendEventMessage = SendEventMessage;\nexports.SendCommandMessage = SendCommandMessage;\nexports.GetRequest = GetRequest;\nexports.PutRequest = PutRequest;\nexports.StateResponse = StateResponse;\nexports.LinkRequest = LinkRequest;\nexports.LinkedResponse = LinkedResponse;\nexports.UnlinkRequest = UnlinkRequest;\nexports.UnlinkedResponse = UnlinkedResponse;\n\n},{\"recon-js\":2}],2:[function(require,module,exports){\n'use strict';\n\nfunction coerce() {\n  if (arguments.length === 1) {\n    var item = arguments[0];\n    if (item === null) return Extant;\n    else if (typeof item === 'undefined') return Absent;\n    else if (item instanceof Attr || item instanceof Slot) {\n      var builder = new RecordBuilder();\n      builder.appendField(item);\n      return builder.state();\n    }\n    else return coerceItem(item);\n  }\n  else if (arguments.length > 1) return coerceArray(arguments);\n  else return Absent;\n}\nfunction coerceItem(item) {\n  if (item === null) return Extant;\n  else if (item instanceof Record ||\n           item instanceof Attr ||\n           item instanceof Slot ||\n           typeof item === 'string' ||\n           typeof item === 'number' ||\n           typeof item === 'boolean' ||\n           item instanceof Uint8Array ||\n           item === Extant ||\n           item === Absent) return item;\n  else if (Array.isArray(item)) return coerceArray(item);\n  else if (typeof item === 'object') {\n    if (item.toRecon && typeof item.toRecon === 'function') return item.toRecon();\n    else return coerceObject(item);\n  }\n  else return Absent;\n}\nfunction coerceArray(array) {\n  var builder = new RecordBuilder();\n  var n = array.length;\n  var i = 0;\n  while (i < n) {\n    var value = coerceItem(array[i]);\n    if (value.isField) builder.appendField(value);\n    else builder.appendValue(value);\n    i += 1;\n  }\n  return builder.state();\n}\nfunction coerceObject(object) {\n  var builder = new RecordBuilder();\n  var prop, key, value;\n  var attrs = object['@'];\n  for (prop in attrs) {\n    key = coerce(prop);\n    if (typeof key === 'string') {\n      value = coerce(attrs[prop]);\n      if (!value.isAbsent) builder.appendField(new Attr(key, value));\n    }\n  }\n  for (prop in object) {\n    if (prop !== '@') {\n      key = coerce(prop);\n      if (!key.isAbsent) {\n        value = coerce(object[prop]);\n        if (!value.isAbsent) builder.appendField(new Slot(key, value));\n      }\n    }\n  }\n  return builder.state();\n}\n\nfunction parse(string) {\n  var input = new StringIterator(string);\n  var result = new DocumentParser().run(input);\n  return result.state();\n}\n\nfunction stringify() {\n  var writer = new ReconWriter();\n  writer.writeBlock(coerce.apply(null, arguments));\n  return writer.state();\n}\n\nfunction objectify(value) {\n  if (value === null || typeof value === 'undefined' || value.isExtant) return null;\n  else if (value.isAbsent) return undefined;\n  else if (value instanceof Record) {\n    if (value.isArray()) return objectifyArray(value);\n    else return objectifyObject(value);\n  }\n  else return value;\n}\nfunction objectifyArray(record) {\n  var array = [];\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var value = objectify(items.head());\n    array.push(value);\n    items.step();\n  }\n  return array;\n}\nfunction objectifyObject(record) {\n  var items = record.iterator();\n  var key, value;\n  var object = {};\n  var attrs = null;\n  var i = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (item.isField) {\n      key = objectify(item.key);\n      value = objectify(item.value);\n      if (item.isAttr) {\n        if (attrs === null) attrs = {};\n        attrs[key] = value;\n      }\n      else object[key] = value;\n    }\n    else {\n      value = objectify(item);\n      object[i] = value;\n    }\n    items.step();\n    i += 1;\n  }\n  if (attrs !== null) object['@'] = attrs;\n  return object;\n}\n\nfunction base64(string) {\n  if (typeof string === 'undefined') return new Uint8Array(0);\n  var data = new DataBuilder();\n  var cs = new StringIterator(string);\n  while (!cs.isEmpty()) {\n    data.appendBase64Char(cs.head());\n    cs.step();\n  }\n  return data.state();\n}\n\nfunction attr(key, value) {\n  if (typeof value === 'undefined') value = Extant;\n  return new Attr(coerce(key), coerce(value));\n}\n\nfunction slot(key, value) {\n  if (typeof value === 'undefined') value = Extant;\n  return new Slot(coerce(key), coerce(value));\n}\n\nfunction empty() {\n  return new Record([], {});\n}\n\nfunction builder() {\n  return new RecordBuilder();\n}\n\nfunction compare(x, y) {\n  if (x === y) return true;\n  if (x instanceof Record && y instanceof Record) return x.equals(y);\n  if (x.isField && y.isField) return x.equals(y);\n  if (x instanceof Uint8Array && y instanceof Uint8Array && x.length === y.length) {\n    var i = 0;\n    var n = x.length;\n    while (i < n && x[i] === y[i]) i += 1;\n    if (i === n) return true;\n  }\n  return false;\n}\n\n\nfunction Record(items, index) {\n  if (typeof index === 'undefined') {\n    index = {};\n    var i = 0;\n    var n = items.length;\n    while (i < n) {\n      var item = items[i];\n      if (item.isField) index[item.key] = item.value;\n      i += 1;\n    }\n  }\n  var record = function(key) {\n    var value = index[key];\n    if (typeof value === 'undefined' && typeof key === 'number') value = items[key];\n    return value;\n  };\n  record.__proto__ = Record.prototype;\n  Object.defineProperty(record, 'items', {value: items});\n  Object.defineProperty(record, 'index', {value: index});\n  return record;\n}\nRecord.prototype = Object.create(Function.prototype);\nRecord.prototype.constructor = Record;\nObject.defineProperty(Record.prototype, 'size', {\n  enumerable: true,\n  get: function () {\n    return this.items.length;\n  }\n});\nRecord.prototype.isEmpty = function () {\n  return this.items.length === 0;\n};\nRecord.prototype.isArray = function () {\n  return this.items.length >= 0 && Object.getOwnPropertyNames(this.index).length === 0;\n};\nRecord.prototype.isMarkup = function () {\n  function isBlank(string) {\n    var cs = new StringIterator(string);\n    while (!cs.isEmpty() && isSpace(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  var items = this.iterator();\n  var afterNonText = false;\n  var hasNonText = false;\n  var sections = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (typeof item !== 'string') {\n      if (afterNonText) return false;\n      afterNonText = true;\n      hasNonText = true;\n    }\n    else if (afterNonText && !isBlank(item)) {\n      afterNonText = false;\n      sections += 1;\n    }\n    else if (sections === 0) sections = 1;\n    items.step();\n  }\n  return hasNonText && sections >= 2;\n};\nRecord.prototype.hasAttrs = function() {\n  return this.items.length > 0 && (this.items[0].isAttr || this.items[this.items.length - 1].isAttr);\n};\nRecord.prototype.hasPrefixAttrs = function () {\n  return this.items.length > 0 && this.items[0].isAttr;\n};\nRecord.prototype.hasPostfixAttrs = function () {\n  return this.items.length > 0 && this.items[this.items.length - 1].isAttr;\n};\nRecord.prototype.contains = function (key) {\n  return typeof this(key) !== 'undefined';\n};\nRecord.prototype.head = function () {\n  return this.items.length > 0 ? this.items[0] : Absent;\n};\nRecord.prototype.tail = function () {\n  return new Record(this.items.slice(1));\n};\nRecord.prototype.body = function () {\n  return new Record(this.items.slice(0, -1));\n};\nRecord.prototype.foot = function () {\n  return this.items.length > 0 ? this.items[this.items.length - 1] : Absent;\n};\nRecord.prototype.target = function () {\n  var these = this.iterator();\n  while (!these.isEmpty()) {\n    var item = these.next();\n    if (!item.isField) return item;\n  }\n  return Absent;\n};\nRecord.prototype.concat = function () {\n  var builder = new RecordBuilder();\n  builder.appendRecord(this);\n  var that = coerce.apply(null, arguments);\n  if (that instanceof Record) builder.appendRecord(that);\n  else builder.appendValue(that);\n  return builder.state();\n};\nRecord.prototype.iterator = function () {\n  return new RecordIterator(this.items);\n};\nRecord.prototype.forEach = function (f) {\n  var these = this.iterator();\n  while (!these.isEmpty()) f(these.next());\n};\nRecord.prototype.equals = function (that) {\n  var these = this.iterator();\n  var those = that.iterator();\n  while (!these.isEmpty() && !those.isEmpty()) {\n    if (!compare(these.next(), those.next())) return false;\n  }\n  return these.isEmpty() && those.isEmpty();\n};\nRecord.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeRecord(this);\n  return writer.state();\n};\n\n\nfunction Field() {}\nObject.defineProperty(Field.prototype, 'isField', {enumerable: true, value: true});\nObject.defineProperty(Field.prototype, 'isAttr', {enumerable: true, value: false});\nObject.defineProperty(Field.prototype, 'isSlot', {enumerable: true, value: false});\n\nfunction Attr(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (typeof value === 'undefined') value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nAttr.prototype = Object.create(Field.prototype);\nAttr.prototype.constructor = Attr;\nObject.defineProperty(Attr.prototype, 'isAttr', {enumerable: true, value: true});\nAttr.prototype.equals = function (that) {\n  return that.isAttr && compare(this.key, that.key) && compare(this.value, that.value);\n};\nAttr.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeAttr(this);\n  return writer.state();\n};\n\nfunction Slot(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (typeof value === 'undefined') value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nSlot.prototype = Object.create(Field.prototype);\nSlot.prototype.constructor = Slot;\nObject.defineProperty(Slot.prototype, 'isSlot', {enumerable: true, value: true});\nSlot.prototype.equals = function (that) {\n  return that.isSlot && compare(this.key, that.key) && compare(this.value, that.value);\n};\nSlot.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeItem(this);\n  return writer.state();\n};\n\n\nvar Extant = {};\nObject.defineProperty(Extant, 'isExtant', {enumerable: true, value: true});\n\nvar Absent = {};\nObject.defineProperty(Absent, 'isAbsent', {enumerable: true, value: true});\n\n\nfunction RecordIterator(items, index) {\n  Object.defineProperty(this, 'items', {value: items});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nRecordIterator.prototype.isEmpty = function () {\n  return this.index >= this.items.length;\n};\nRecordIterator.prototype.head = function () {\n  if (this.index >= this.items.length) throw 'head of empty iterator';\n  return this.items[this.index];\n};\nRecordIterator.prototype.step = function () {\n  if (this.index >= this.items.length) throw 'empty iterator step';\n  this.index += 1;\n};\nRecordIterator.prototype.next = function () {\n  if (this.index >= this.items.length) return null;\n  var item = this.items[this.index];\n  this.index += 1;\n  return item;\n};\nRecordIterator.prototype.dup = function () {\n  return new RecordIterator(this.items, this.index);\n};\nRecordIterator.prototype.toRecord = function () {\n  return new Record(this.items.slice(this.index));\n};\nRecordIterator.prototype.isAllAttrs = function () {\n  var items = this.dup();\n  while (!items.isEmpty()) {\n    if (!items.next().isAttr) return false;\n  }\n  return true;\n};\n\n\nfunction RecordBuilder() {\n  Object.defineProperty(this, 'items', {value: []});\n  Object.defineProperty(this, 'index', {value: {}});\n}\nRecordBuilder.prototype.appendField = function (field) {\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nRecordBuilder.prototype.appendValue = function (value) {\n  this.items.push(value);\n};\nRecordBuilder.prototype.appendRecord = function (record) {\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var item = items.next();\n    if (item.isField) this.appendField(item);\n    else this.appendValue(item);\n  }\n};\nRecordBuilder.prototype.attr = function (key, value) {\n  this.appendField(attr(key, value));\n  return this;\n};\nRecordBuilder.prototype.slot = function (key, value) {\n  this.appendField(slot(key, value));\n  return this;\n};\nRecordBuilder.prototype.item = function (value) {\n  this.appendValue(coerceItem(value));\n  return this;\n};\nRecordBuilder.prototype.state = function () {\n  return new Record(this.items, this.index);\n};\n\n\nfunction ValueBuilder() {\n  Object.defineProperty(this, 'items', {value: null, writable: true});\n  Object.defineProperty(this, 'index', {value: null, writable: true});\n  Object.defineProperty(this, 'value', {value: null, writable: true});\n}\nValueBuilder.prototype.appendField = function (field) {\n  if (this.items === null) {\n    this.items = [];\n    this.index = {};\n    if (this.value !== null) {\n      this.items.push(this.value);\n      this.value = null;\n    }\n  }\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nValueBuilder.prototype.appendValue = function (value) {\n  if (this.items !== null) this.items.push(value);\n  else if (this.value === null) this.value = value;\n  else {\n    this.items = [];\n    this.index = {};\n    this.items.push(this.value);\n    this.value = null;\n    this.items.push(value);\n  }\n};\nValueBuilder.prototype.state = function () {\n  if (this.value !== null) return this.value;\n  else if (this.items !== null) return new Record(this.items, this.index);\n  else return Absent;\n};\n\n\nfunction StringIterator(string, index) {\n  Object.defineProperty(this, 'string', {value: string || ''});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nStringIterator.prototype.isDone = function () {\n  return false;\n};\nStringIterator.prototype.isEmpty = function () {\n  return this.index >= this.string.length;\n};\nStringIterator.prototype.head = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) return c1; // U+0000..U+D7FF | U+E000..U+FFFF\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      return (((c1 & 0x3FF) << 10) | (c2 & 0x3FF)) + 0x10000;\n    else return 0xFFFD;\n  }\n  else return 0xFFFD;\n};\nStringIterator.prototype.step = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) // U+0000..U+D7FF | U+E000..U+FFFF\n    this.index += 1;\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      this.index += 2;\n    else this.index += 1;\n  }\n  else this.index += 1;\n};\n\nStringIterator.Done = {\n  isDone: function () {\n    return true;\n  },\n  isEmpty: function () {\n    return true;\n  },\n  head: function () {\n    throw 'head of empty iterator';\n  },\n  step: function () {\n    throw 'empty iterator step';\n  }\n};\nStringIterator.Done.prototype = Object.create(StringIterator.prototype);\n\n\nfunction StringIteratee() {}\nStringIteratee.prototype.isCont = function () {\n  return true;\n};\nStringIteratee.prototype.isDone = function () {\n  return false;\n};\nStringIteratee.prototype.isError = function () {\n  return false;\n};\nStringIteratee.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.prototype.run = function (input) {\n  var next = this;\n  while (!input.isEmpty() && next.isCont()) next = next.feed(input);\n  if (input.isEmpty() && !input.isDone() && next.isCont()) next = next.feed(StringIterator.Done);\n  return next;\n};\n\nStringIteratee.Done = function (value) {\n  StringIteratee.call(this);\n  this.value = value;\n};\nStringIteratee.Done.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Done.prototype.constructor = StringIteratee.Done;\nStringIteratee.Done.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Done.prototype.isDone = function () {\n  return true;\n};\nStringIteratee.Done.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Done.prototype.state = function () {\n  return this.value;\n};\n\nStringIteratee.Error = function (error) {\n  StringIteratee.call(this);\n  this.error = error;\n};\nStringIteratee.Error.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Error.prototype.constructor = StringIteratee.Error;\nStringIteratee.Error.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Error.prototype.isError = function () {\n  return true;\n};\nStringIteratee.Error.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Error.prototype.state = function () {\n  throw this.error;\n};\n\nStringIteratee.unexpectedEOF = new StringIteratee.Error('unexpected end of input');\n\n\nfunction StringBuilder() {\n  Object.defineProperty(this, 'string', {value: '', writable: true});\n}\nStringBuilder.prototype.append = function (c) {\n  if ((c >= 0x0000 && c <= 0xD7FF) ||\n      (c >= 0xE000 && c <= 0xFFFF)) { // U+0000..U+D7FF | U+E000..U+FFFF\n    this.string += String.fromCharCode(c);\n  }\n  else if (c >= 0x10000 && c <= 0x10FFFF) { // U+10000..U+10FFFF\n    var u = c - 0x10000;\n    this.string += String.fromCharCode(0xD800 | (u >>> 10), 0xDC00 | (u & 0x3FF));\n  }\n  else { // invalid code point\n    this.string += String.fromCharCode(0xFFFD);\n  }\n};\nStringBuilder.prototype.appendString = function (s) {\n  var cs = new StringIterator(s);\n  while (!cs.isEmpty()) {\n    this.append(cs.head());\n    cs.step();\n  }\n};\nStringBuilder.prototype.state = function () {\n  return this.string;\n};\n\n\nfunction DataBuilder() {\n  Object.defineProperty(this, 'buffer', {value: null, writable: true});\n  Object.defineProperty(this, 'offset', {value: 0, writable: true});\n  Object.defineProperty(this, 'aliased', {value: true, writable: true});\n  Object.defineProperty(this, 'p', {value: 0, writable: true});\n  Object.defineProperty(this, 'q', {value: 0, writable: true});\n  Object.defineProperty(this, 'r', {value: 0, writable: true});\n  Object.defineProperty(this, 's', {value: 0, writable: true});\n}\nDataBuilder.prototype.prepare = function (size) {\n  function expand(base, size) {\n    var n = Math.max(base, size) - 1;\n    n |= n >> 1; n |= n >> 2; n |= n >> 4; n |= n >> 8;\n    return n + 1;\n  }\n  if (this.aliased || size > this.buffer.length) {\n    var array = new Uint8Array(expand(256, size));\n    if (this.buffer) array.set(this.buffer);\n    this.buffer = array;\n    this.aliased = false;\n  }\n};\nDataBuilder.prototype.appendByte = function (value) {\n  this.prepare(this.offset + 1);\n  this.buffer[this.offset] = value;\n  this.offset += 1;\n};\nDataBuilder.prototype.decodeBase64Digit = function (c) {\n  if (c >= 65/*'A'*/ && c <= 90/*'Z'*/) return c - 65/*'A'*/;\n  else if (c >= 97/*'a'*/ && c <= 122/*'z'*/) return c - 71/*'a' - 26*/;\n  else if (c >= 48/*'0'*/ && c <= 57/*'9'*/) return c + 4/*52 - '0'*/;\n  else if (c === 43/*'+'*/ || c === 45/*'-'*/) return 62;\n  else if (c === 47/*'/'*/ || c === 95/*'_'*/) return 63;\n};\nDataBuilder.prototype.decodeBase64Quantum = function () {\n  var x = this.decodeBase64Digit(this.p);\n  var y = this.decodeBase64Digit(this.q);\n  if (this.r !== 61/*'='*/) {\n    var z = this.decodeBase64Digit(this.r);\n    if (this.s !== 61/*'='*/) {\n      var w = this.decodeBase64Digit(this.s);\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n      this.appendByte((z << 6) | w);\n    }\n    else {\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n    }\n  }\n  else {\n    if (this.s !== 61/*'='*/) throw 'incomplete base64 quantum';\n    this.appendByte((x << 2) | (y >>> 4));\n  }\n};\nDataBuilder.prototype.appendBase64Char = function (c) {\n  if (this.p === 0) this.p = c;\n  else if (this.q === 0) this.q = c;\n  else if (this.r === 0) this.r = c;\n  else {\n    this.s = c;\n    this.decodeBase64Quantum();\n    this.s = 0;\n    this.r = 0;\n    this.q = 0;\n    this.p = 0;\n  }\n};\nDataBuilder.prototype.state = function (value) {\n  if (!this.buffer) this.buffer = new Uint8Array(0);\n  else if (this.buffer.length !== this.offset) {\n    var array = new Uint8Array(this.offset);\n    array.set(this.buffer.subarray(0, this.offset));\n    this.buffer = array;\n  }\n  this.aliased = true;\n  return this.buffer;\n};\n\n\nfunction isSpace(c) {\n  return c === 0x20 || c === 0x9;\n}\nfunction isNewline(c) {\n  return c === 0xA || c === 0xD;\n}\nfunction isWhitespace(c) {\n  return isSpace(c) || isNewline(c);\n}\nfunction isNameStartChar(c) {\n  return (\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x2FF ||\n    c >= 0x370 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isNameChar(c) {\n  return (\n    c === 45/*'-'*/ ||\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 0xB7 ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x203F && c <= 0x2040 ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isBase64Char(c) {\n  return (\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 43/*'+'*/ || c === 45/*'-'*/ ||\n    c === 47/*'/'*/ || c === 95/*'_'*/);\n}\n\n\nfunction DocumentParser(value) {\n  StringIteratee.call(this);\n  this.value = value || new BlockParser();\n}\nDocumentParser.prototype = Object.create(StringIteratee.prototype);\nDocumentParser.prototype.constructor = DocumentParser;\nDocumentParser.prototype.feed = function (input) {\n  var value = this.value;\n  while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n  if (value.isError()) return value;\n  if (value.isDone()) {\n    if (!input.isEmpty()) return new StringIteratee.Error({found: input.head()});\n    else if (input.isDone()) return value;\n  }\n  return new DocumentParser(value);\n};\n\n\nfunction BlockParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockParser.prototype = Object.create(StringIteratee.prototype);\nBlockParser.prototype.constructor = BlockParser;\nBlockParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new ValueBuilder();\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) s = 2;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 2) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 3;\n      else if (key.isError()) return key;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 4;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 6;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 5;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 1;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n  }\n  return new BlockParser(builder, key, value, s);\n};\n\n\nfunction AttrParser(ident, value, s) {\n  StringIteratee.call(this);\n  this.ident = ident || new IdentParser();\n  this.value = value || new BlockParser();\n  this.s = s || 1;\n}\nAttrParser.prototype = Object.create(StringIteratee.prototype);\nAttrParser.prototype.constructor = AttrParser;\nAttrParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var ident = this.ident;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 64/*'@'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'@\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    ident = ident.feed(input);\n    if (ident.isDone()) s = 3;\n    else if (ident.isError()) return ident;\n  }\n  if (s === 3) {\n    if (!input.isEmpty() && input.head() === 40/*'('*/) {\n      input.step();\n      s = 4;\n    }\n    else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(new Attr(ident.state()));\n  }\n  if (s === 4) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state()));\n      }\n      else s = 5;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 5) {\n    while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n    if (value.isDone()) s = 6;\n    else if (value.isError()) return value;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state(), value.state()));\n      }\n      else return new StringIteratee.Error({expected: '\\')\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  return new AttrParser(ident, value, s);\n};\n\n\nfunction BlockValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockValueParser.prototype = Object.create(StringIteratee.prototype);\nBlockValueParser.prototype.constructor = BlockValueParser;\nBlockValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          value = new RecordParser(builder);\n          s = 5;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          value = new MarkupParser(builder);\n          s = 5;\n        }\n        else if (c === 34/*'\"'*/) {\n          value = new StringParser();\n          s = 4;\n        }\n        else if (c === 37/*'%'*/) {\n          value = new DataParser();\n          s = 4;\n        }\n        else if (c === 45/*'-'*/ || c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n          value = new NumberParser();\n          s = 4;\n        }\n        else if (isNameStartChar(c)) {\n          value = new IdentParser();\n          s = 4;\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) {\n        if (input.head() === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 7;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 7) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 6;\n      }\n      else if (field.isError()) return field;\n    }\n  }\n  return new BlockValueParser(builder, field, value, s);\n};\n\n\nfunction InlineValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nInlineValueParser.prototype = Object.create(StringIteratee.prototype);\nInlineValueParser.prototype.constructor = InlineValueParser;\nInlineValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          if (builder) {\n            value = new RecordParser(builder);\n            s = 5;\n          }\n          else {\n            value = new RecordParser();\n            s = 4;\n          }\n        }\n        else if (c === 91/*'['*/) {\n          if (builder) {\n            value = new MarkupParser(builder);\n            s = 5;\n          }\n          else {\n            value = new MarkupParser();\n            s = 4;\n          }\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        return new StringIteratee.Done(builder.state());\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) return new StringIteratee.Done(builder.state());\n      else if (value.isError()) return value;\n    }\n  }\n  return new InlineValueParser(builder, field, value, s);\n};\n\n\nfunction RecordParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nRecordParser.prototype = Object.create(StringIteratee.prototype);\nRecordParser.prototype.constructor = RecordParser;\nRecordParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new RecordBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 123/*'{'*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'{\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n        else s = 3;\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 4;\n      else if (key.isError()) return key;\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 5;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 7;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 6;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 6) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 7;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 7) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 2;\n        }\n        else if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n       else return new StringIteratee.Error({expected: '\\'}\\', \\';\\', \\',\\', or newline', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new RecordParser(builder, key, value, s);\n};\n\n\nfunction MarkupParser(builder, text, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.text = text || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nMarkupParser.prototype = Object.create(StringIteratee.prototype);\nMarkupParser.prototype.constructor = MarkupParser;\nMarkupParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var text = this.text;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 91/*'['*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'[\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(),\n          c !== 64/*'@'*/ &&\n          c !== 91/*'['*/ &&\n          c !== 92/*'\\\\'*/ &&\n          c !== 93/*']'*/ &&\n          c !== 123/*'{'*/ &&\n          c !== 125/*'}'*/)) {\n        input.step();\n        text = text || new StringBuilder();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 93/*']'*/) {\n          input.step();\n          builder = builder || new RecordBuilder();\n          if (text) builder.appendValue(text.state());\n          return new StringIteratee.Done(builder.state());\n        }\n        else if (c === 64/*'@'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new InlineValueParser();\n          s = 3;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new RecordParser(builder);\n          s = 4;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new MarkupParser(builder);\n          s = 4;\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 5;\n        }\n        else new StringIteratee.Error({found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendValue(value.state());\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        text = text || new StringBuilder();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new MarkupParser(builder, text, value, s);\n};\n\n\nfunction StringParser(text, s) {\n  StringIteratee.call(this);\n  this.text = text || null;\n  this.s = s || 1;\n}\nStringParser.prototype = Object.create(StringIteratee.prototype);\nStringParser.prototype.constructor = StringParser;\nStringParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var text = this.text;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 34/*'\"'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'\"\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      text = text || new StringBuilder();\n      while (!input.isEmpty() && (c = input.head(), c !== 34/*'\"'*/ && c !== 92/*'\\\\'*/)) {\n        input.step();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 34/*'\"'*/) {\n          input.step();\n          return new StringIteratee.Done(text.state());\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 3;\n        }\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new StringParser(text, s);\n};\n\n\nfunction DataParser(data, s) {\n  StringIteratee.call(this);\n  this.data = data || null;\n  this.s = s || 1;\n}\nDataParser.prototype = Object.create(StringIteratee.prototype);\nDataParser.prototype.constructor = DataParser;\nDataParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var data = this.data || new DataBuilder();\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 37/*'%'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'%\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 3;\n      }\n      else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(data.state());\n    }\n    if (s === 3) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 4;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 4) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 5;\n        else s = 6;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 5) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 2;\n        else return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    else if (s === 6) {\n      if (!input.isEmpty() && (c = input.head(), c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'=\\'', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new DataParser(data, s);\n};\n\n\nfunction NumberParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nNumberParser.prototype = Object.create(StringIteratee.prototype);\nNumberParser.prototype.constructor = NumberParser;\nNumberParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder || new StringBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 2;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 48/*'0'*/) {\n        input.step();\n        builder.append(c);\n        s = 4;\n      }\n      else if (c >= 49/*'1'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 3;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 3) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 4;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 4) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 46/*'.'*/) {\n        input.step();\n        builder.append(c);\n        s = 5;\n      }\n      else if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n        input.step();\n        builder.append(c);\n        s = 8;\n      }\n      else return new StringIteratee.Done(Number(builder.state()));\n    }\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 5) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 6;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 7;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 7) {\n    c = input.head();\n    if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n      input.step();\n      builder.append(c);\n      s = 8;\n    }\n    else return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 8) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 43/*'+'*/ || c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 9;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 9) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 10;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 10) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  return new NumberParser(builder, s);\n};\n\nfunction IdentParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nIdentParser.prototype = Object.create(StringIteratee.prototype);\nIdentParser.prototype.constructor = IdentParser;\nIdentParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), isNameStartChar(c))) {\n      builder = builder || new StringBuilder();\n      input.step();\n      builder.append(c);\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'identitifer', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    while (!input.isEmpty() && (c = input.head(), isNameChar(c))) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) {\n      var value = builder.state();\n      if (value === 'true') value = true;\n      else if (value === 'false') value = false;\n      return new StringIteratee.Done(value);\n    }\n  }\n  return new IdentParser(builder, s);\n};\n\n\nfunction ReconWriter(builder) {\n  Object.defineProperty(this, 'builder', {value: builder || new StringBuilder()});\n}\nReconWriter.prototype.writeValue = function (value, inMarkup) {\n  if (value instanceof Record) this.writeRecord(value, inMarkup);\n  else if (typeof value === 'string') this.writeText(value, inMarkup);\n  else if (typeof value === 'number') this.writeNumber(value);\n  else if (typeof value === 'boolean') this.writeBool(value);\n  else if (value instanceof Uint8Array) this.writeData(value);\n};\nReconWriter.prototype.writeAttr = function(attr) {\n  this.builder.append(64/*'@'*/);\n  this.writeIdent(attr.key);\n  if (!attr.value.isExtant) {\n    this.builder.append(40/*'('*/);\n    this.writeBlock(attr.value);\n    this.builder.append(41/*')'*/);\n  }\n};\nReconWriter.prototype.writeItem = function(item) {\n  if (item.isField) {\n    this.writeValue(item.key);\n    this.builder.append(58/*':'*/);\n    if (!item.value.isExtant) this.writeValue(item.value);\n  }\n  else this.writeValue(item);\n};\nReconWriter.prototype.writeBlock = function (value) {\n  if (!(value instanceof Record)) this.writeValue(value);\n  else if (value.isMarkup()) this.writeMarkup(value);\n  else if (value.hasAttrs()) this.writeRecord(value);\n  else {\n    var items = value.iterator();\n    if (!items.isEmpty()) {\n      this.writeItem(items.next());\n      while (!items.isEmpty()) {\n        this.builder.append(44/*','*/);\n        this.writeItem(items.next());\n      }\n    }\n  }\n};\nReconWriter.prototype.writeRecord = function (record, inMarkup) {\n  if (record.isMarkup()) this.writeMarkup(record);\n  else {\n    var items = record.iterator();\n    var item;\n    var hasAttrs = false;\n    while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n      this.writeAttr(item);\n      items.step();\n      hasAttrs = true;\n    }\n    if (!items.isEmpty()) {\n      items.step();\n      if (hasAttrs && items.isEmpty()) {\n        if (inMarkup) {\n          if (item instanceof Record || typeof item === 'string') this.writeValue(item, inMarkup);\n          else {\n            this.builder.append(123/*'{'*/);\n            this.writeItem(item);\n            this.builder.append(125/*'}'*/);\n          }\n        }\n        else if (item instanceof Record || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else if (!items.isEmpty() && items.isAllAttrs()) {\n        if (item instanceof Record || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          if (hasAttrs) this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else {\n        this.builder.append(123/*'{'*/);\n        this.writeItem(item);\n        while (!items.isEmpty() && ((item = items.head(), !item.isAttr) || !items.isAllAttrs)) {\n          this.builder.append(44/*','*/);\n          this.writeItem(item);\n          items.step();\n        }\n        this.builder.append(125/*'}'*/);\n      }\n      while (!items.isEmpty()) this.writeAttr(items.next());\n    }\n    else if (!hasAttrs) {\n      this.builder.append(123/*'{'*/);\n      this.builder.append(125/*'}'*/);\n    }\n  }\n};\nReconWriter.prototype.writeMarkup = function (record) {\n  var items = record.iterator();\n  var item;\n  var hasAttrs = false;\n  while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n    this.writeAttr(item);\n    items.step();\n    hasAttrs = true;\n  }\n  this.builder.append(91/*'['*/);\n  while (!items.isEmpty()) {\n    item = items.head();\n    if (typeof item === 'string') {\n      var cs = new StringIterator(item);\n      while (!cs.isEmpty()) {\n        var c = cs.head();\n        switch (c) {\n          case 64/*'@'*/:\n          case 91/*'['*/:\n          case 92/*'\\\\'*/:\n          case 93/*']'*/:\n          case 123/*'{'*/:\n          case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n          default: this.builder.append(c);\n        }\n        cs.step();\n      }\n    }\n    else if (item instanceof Record) this.writeRecord(item, true);\n    else {\n      this.builder.append(123/*'{'*/);\n      this.writeItem(item);\n      this.builder.append(125/*'}'*/);\n    }\n    items.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeText = function (text, inMarkup) {\n  function isIdent() {\n    var cs = new StringIterator(text);\n    if (cs.isEmpty() || !isNameStartChar(cs.head())) return false;\n    cs.step();\n    while (!cs.isEmpty() && isNameChar(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  if (inMarkup) this.writeTextMarkup(text);\n  else if (isIdent()) this.writeIdent(text);\n  else this.writeString(text);\n};\nReconWriter.prototype.writeString = function (string) {\n  var cs = new StringIterator(string);\n  this.builder.append(34/*'\"'*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 34/*'\"'*/:\n      case 92/*'\\\\'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      case 8/*'\\b'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(98/*'b'*/); break;\n      case 12/*'\\f'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(102/*'f'*/); break;\n      case 10/*'\\n'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(110/*'n'*/); break;\n      case 13/*'\\r'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(114/*'r'*/); break;\n      case 9/*'\\t'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(116/*'t'*/); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(34/*'\"'*/);\n};\nReconWriter.prototype.writeIdent = function (ident) {\n  this.builder.appendString(ident);\n};\nReconWriter.prototype.writeTextMarkup = function (text) {\n  var cs = new StringIterator(text);\n  this.builder.append(91/*'['*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 64/*'@'*/:\n      case 91/*'['*/:\n      case 92/*'\\\\'*/:\n      case 93/*']'*/:\n      case 123/*'{'*/:\n      case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeNumber = function (number) {\n  this.builder.appendString(number.toString());\n};\nReconWriter.prototype.writeBool = function (bool) {\n  this.builder.appendString(bool.toString());\n};\nReconWriter.prototype.writeData = function (data) {\n  function encodeBase64Digit(x) {\n    if      (x >=  0 && x < 26) return x + 65/*'A'*/;\n    else if (x >= 26 && x < 52) return x + 71/*('a' - 26)*/;\n    else if (x >= 52 && x < 62) return x - 4/*-('0' - 52)*/;\n    else if (x === 62) return 43/*'+'*/;\n    else if (x === 63) return 47/*'/'*/;\n  }\n  this.builder.append(37/*'%'*/);\n  var i = 0;\n  var n = data.length;\n  var x, y, z;\n  while (i + 2 < n) {\n    x = data[i];\n    y = data[i + 1];\n    z = data[i + 2];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit(((y << 2) | (z >>> 6)) & 0x3F));\n    this.builder.append(encodeBase64Digit(z & 0x3F));\n    i += 3;\n  }\n  if (i + 1 < n) {\n    x = data[i];\n    y = data[i + 1];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit((y << 2) & 0x3F));\n    this.builder.append(61/*'='*/);\n    i += 2;\n  }\n  else if (i < n) {\n    x = data[i];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit((x << 4) & 0x3F));\n    this.builder.append(61/*'='*/);\n    this.builder.append(61/*'='*/);\n    i += 1;\n  }\n};\nReconWriter.prototype.state = function () {\n  return this.builder.state();\n};\n\n\nmodule.exports = function () {\n  return coerce.apply(null, arguments);\n};\nexports = module.exports;\nexports.parse = parse;\nexports.stringify = stringify;\nexports.objectify = objectify;\nexports.Record = Record;\nexports.Field = Field;\nexports.Attr = Attr;\nexports.Slot = Slot;\nexports.attr = attr;\nexports.slot = slot;\nexports.base64 = base64;\nexports.extant = Extant;\nexports.absent = Absent;\nexports.empty = empty;\nexports.builder = builder;\nexports.compare = compare;\n\n},{}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}