{"version":3,"sources":["swim-proto.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","swim","proto","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"decode","record","recon","Record","heading","head","isField","key","EventMessage","CommandMessage","SendMessage","GetRequest","PutRequest","StateResponse","LinkRequest","LinkedResponse","UnlinkRequest","UnlinkedResponse","encode","envelope","parse","string","stringify","Envelope","RequestEnvelope","ResponseEnvelope","MessageEnvelope","node","lane","via","body","Object","defineProperty","enumerable","value","absent","empty","SendEventMessage","SendCommandMessage","prototype","create","constructor","builder","slot","isAbsent","attr","state","appendRecord","tail","headers","iterator","isEmpty","header","next","items","step","toRecord","isExtant","recon-js",2,"coerce","arguments","item","Extant","Absent","Attr","Slot","RecordBuilder","appendField","coerceItem","coerceArray","Uint8Array","Array","isArray","toRecon","coerceObject","array","appendValue","object","prop","attrs","input","StringIterator","result","DocumentParser","run","writer","ReconWriter","writeBlock","apply","objectify","undefined","objectifyArray","objectifyObject","push","isAttr","base64","data","DataBuilder","cs","appendBase64Char","compare","x","y","equals","index","__proto__","Field","RecordIterator","writable","ValueBuilder","StringIteratee","StringBuilder","isSpace","c","isNewline","isWhitespace","isNameStartChar","isNameChar","isBase64Char","BlockParser","AttrParser","ident","IdentParser","BlockValueParser","field","InlineValueParser","RecordParser","MarkupParser","text","StringParser","DataParser","NumberParser","Function","get","getOwnPropertyNames","isMarkup","isBlank","afterNonText","hasNonText","sections","hasAttrs","hasPrefixAttrs","hasPostfixAttrs","contains","slice","foot","target","these","concat","that","forEach","those","toString","writeRecord","writeAttr","isSlot","writeItem","dup","isAllAttrs","isDone","c1","charCodeAt","c2","Done","isCont","isError","feed","error","unexpectedEOF","append","String","fromCharCode","appendString","prepare","size","expand","base","Math","max","aliased","buffer","set","appendByte","offset","decodeBase64Digit","decodeBase64Quantum","p","q","z","w","subarray","found","expected","Number","writeValue","inMarkup","writeText","writeNumber","writeBool","writeData","writeIdent","writeMarkup","isIdent","writeTextMarkup","writeString","number","bool","encodeBase64Digit","extant"],"mappings":"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","file":"swim-proto.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.swim || (g.swim = {})).proto = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar recon = require('recon-js');\n\nfunction decode(record) {\n  if (record instanceof recon.Record) {\n    var heading = record.head();\n    if (heading.isField) switch (heading.key) {\n      case 'event': return EventMessage.decode(record);\n      case 'command': return CommandMessage.decode(record);\n      case 'send': return SendMessage.decode(record);\n      case 'get': return GetRequest.decode(record);\n      case 'put': return PutRequest.decode(record);\n      case 'state': return StateResponse.decode(record);\n      case 'link': return LinkRequest.decode(record);\n      case 'linked': return LinkedResponse.decode(record);\n      case 'unlink': return UnlinkRequest.decode(record);\n      case 'unlinked': return UnlinkedResponse.decode(record);\n    }\n  }\n}\n\nfunction encode(envelope) {\n  return envelope.encode();\n}\n\nfunction parse(string) {\n  return decode(recon.parse(string));\n}\n\nfunction stringify(envelope) {\n  return recon.stringify(encode(envelope));\n}\n\n\nfunction Envelope() {}\nObject.defineProperty(Envelope.prototype, 'isRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isEventMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isCommandMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendEventMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isSendCommandMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isGetRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isPutRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isStateResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkedResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkedResponse', {value: false});\n\n\nfunction RequestEnvelope() {\n  Envelope.call(this);\n}\nRequestEnvelope.prototype = Object.create(Envelope.prototype);\nRequestEnvelope.prototype.constructor = RequestEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isRequest', {value: true});\n\n\nfunction ResponseEnvelope() {\n  Envelope.call(this);\n}\nResponseEnvelope.prototype = Object.create(Envelope.prototype);\nResponseEnvelope.prototype.constructor = ResponseEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isResponse', {value: true});\n\n\nfunction MessageEnvelope() {\n  Envelope.call(this);\n}\nMessageEnvelope.prototype = Object.create(Envelope.prototype);\nMessageEnvelope.prototype.constructor = MessageEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isMessage', {value: true});\n\n\nfunction EventMessage(node, lane, via, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nEventMessage.prototype = Object.create(MessageEnvelope.prototype);\nEventMessage.prototype.constructor = EventMessage;\nObject.defineProperty(EventMessage.prototype, 'isEventMessage', {value: true});\nEventMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  var heading = recon.builder();\n  heading.slot('node', this.node);\n  heading.slot('lane', this.lane);\n  if (!this.via.isAbsent) heading.slot('via', this.via);\n  builder.attr('event', heading.state());\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nEventMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var via = recon.absent;\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n        case 'via': via = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n        case 2: via = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new EventMessage(node, lane, via, body);\n};\n\n\nfunction CommandMessage(node, lane, via, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nCommandMessage.prototype = Object.create(MessageEnvelope.prototype);\nCommandMessage.prototype.constructor = CommandMessage;\nObject.defineProperty(CommandMessage.prototype, 'isCommandMessage', {value: true});\nCommandMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  var heading = recon.builder();\n  heading.slot('node', this.node);\n  heading.slot('lane', this.lane);\n  if (!this.via.isAbsent) heading.slot('via', this.via);\n  builder.attr('command', heading.state());\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nCommandMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var via = recon.absent;\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n        case 'via': via = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n        case 2: via = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new CommandMessage(node, lane, via, body);\n};\n\n\nfunction SendMessage() {\n  MessageEnvelope.call(this);\n}\nSendMessage.prototype = Object.create(MessageEnvelope.prototype);\nSendMessage.prototype.constructor = SendMessage;\nObject.defineProperty(SendMessage.prototype, 'isSendMessage', {value: true});\nSendMessage.decode = function (record) {\n  var heading = record(1);\n  switch (heading.key) {\n    case 'event': return SendEventMessage.decode(record);\n    case 'command': return SendCommandMessage.decode(record);\n  }\n};\n\n\nfunction SendEventMessage(node, lane, body) {\n  SendMessage.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nSendEventMessage.prototype = Object.create(SendMessage.prototype);\nSendEventMessage.prototype.constructor = SendEventMessage;\nObject.defineProperty(SendEventMessage.prototype, 'isSendEventMessage', {value: true});\nSendEventMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('send');\n  builder.attr('event', recon(\n    recon.slot('node', this.node),\n    recon.slot('lane', this.lane)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nSendEventMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var items = record.iterator();\n  items.step(); // @send\n  var heading = items.next();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  var body = items.toRecord();\n  return new SendEventMessage(node, lane, body);\n};\n\n\nfunction SendCommandMessage(node, lane, body) {\n  SendMessage.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nSendCommandMessage.prototype = Object.create(SendMessage.prototype);\nSendCommandMessage.prototype.constructor = SendCommandMessage;\nObject.defineProperty(SendCommandMessage.prototype, 'isSendCommandMessage', {value: true});\nSendCommandMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('send');\n  builder.attr('command', recon(\n    recon.slot('node', this.node),\n    recon.slot('lane', this.lane)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nSendCommandMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var items = record.iterator();\n  items.step(); // @send\n  var heading = items.next();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  var body = items.toRecord();\n  return new SendCommandMessage(node, lane, body);\n};\n\n\nfunction GetRequest(node) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n}\nGetRequest.prototype = Object.create(RequestEnvelope.prototype);\nGetRequest.prototype.constructor = GetRequest;\nObject.defineProperty(GetRequest.prototype, 'isGetRequest', {value: true});\nGetRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('get', recon(\n      recon.slot('node', this.node))));\n};\nGetRequest.decode = function (record) {\n  var node = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new GetRequest(node);\n};\n\n\nfunction PutRequest(node, body) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nPutRequest.prototype = Object.create(RequestEnvelope.prototype);\nPutRequest.prototype.constructor = PutRequest;\nObject.defineProperty(PutRequest.prototype, 'isPutRequest', {value: true});\nPutRequest.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('put', recon(\n    recon.slot('node', this.node)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nPutRequest.decode = function (record) {\n  var node = '';\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new PutRequest(node, body);\n};\n\n\nfunction StateResponse(node, body) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nStateResponse.prototype = Object.create(ResponseEnvelope.prototype);\nStateResponse.prototype.constructor = StateResponse;\nObject.defineProperty(StateResponse.prototype, 'isStateResponse', {value: true});\nStateResponse.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('state', recon(\n    recon.slot('node', this.node)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nStateResponse.decode = function (record) {\n  var node = '';\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new StateResponse(node, body);\n};\n\n\nfunction LinkRequest(node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nLinkRequest.prototype.constructor = LinkRequest;\nObject.defineProperty(LinkRequest.prototype, 'isLinkRequest', {value: true});\nLinkRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('link', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nLinkRequest.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new LinkRequest(node, lane);\n};\n\n\nfunction LinkedResponse(node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nLinkedResponse.prototype.constructor = LinkedResponse;\nObject.defineProperty(LinkedResponse.prototype, 'isLinkedResponse', {value: true});\nLinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('linked', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nLinkedResponse.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new LinkedResponse(node, lane);\n};\n\n\nfunction UnlinkRequest(node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nUnlinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nUnlinkRequest.prototype.constructor = UnlinkRequest;\nObject.defineProperty(UnlinkRequest.prototype, 'isUnlinkRequest', {value: true});\nUnlinkRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('unlink', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nUnlinkRequest.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new UnlinkRequest(node, lane);\n};\n\n\nfunction UnlinkedResponse(node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nUnlinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nUnlinkedResponse.prototype.constructor = UnlinkedResponse;\nObject.defineProperty(UnlinkedResponse.prototype, 'isUnlinkedResponse', {value: true});\nUnlinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('unlinked', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nUnlinkedResponse.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value instanceof recon.Record) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new UnlinkedResponse(node, lane);\n};\n\n\nexports.decode = decode;\nexports.encode = encode;\nexports.parse = parse;\nexports.stringify = stringify;\nexports.Envelope = Envelope;\nexports.RequestEnvelope = RequestEnvelope;\nexports.ResponseEnvelope = ResponseEnvelope;\nexports.MessageEnvelope = MessageEnvelope;\nexports.EventMessage = EventMessage;\nexports.CommandMessage = CommandMessage;\nexports.SendMessage = SendMessage;\nexports.SendEventMessage = SendEventMessage;\nexports.SendCommandMessage = SendCommandMessage;\nexports.GetRequest = GetRequest;\nexports.PutRequest = PutRequest;\nexports.StateResponse = StateResponse;\nexports.LinkRequest = LinkRequest;\nexports.LinkedResponse = LinkedResponse;\nexports.UnlinkRequest = UnlinkRequest;\nexports.UnlinkedResponse = UnlinkedResponse;\n\n},{\"recon-js\":2}],2:[function(require,module,exports){\n'use strict';\n\nfunction coerce() {\n  if (arguments.length === 1) {\n    var item = arguments[0];\n    if (item === null) return Extant;\n    else if (typeof item === 'undefined') return Absent;\n    else if (item instanceof Attr || item instanceof Slot) {\n      var builder = new RecordBuilder();\n      builder.appendField(item);\n      return builder.state();\n    }\n    else return coerceItem(item);\n  }\n  else if (arguments.length > 1) return coerceArray(arguments);\n  else return Absent;\n}\nfunction coerceItem(item) {\n  if (item === null) return Extant;\n  else if (item instanceof Record ||\n           item instanceof Attr ||\n           item instanceof Slot ||\n           typeof item === 'string' ||\n           typeof item === 'number' ||\n           typeof item === 'boolean' ||\n           item instanceof Uint8Array ||\n           item === Extant ||\n           item === Absent) return item;\n  else if (Array.isArray(item)) return coerceArray(item);\n  else if (typeof item === 'object') {\n    if (item.toRecon && typeof item.toRecon === 'function') return item.toRecon();\n    else return coerceObject(item);\n  }\n  else return Absent;\n}\nfunction coerceArray(array) {\n  var builder = new RecordBuilder();\n  var n = array.length;\n  var i = 0;\n  while (i < n) {\n    var value = coerceItem(array[i]);\n    if (value.isField) builder.appendField(value);\n    else builder.appendValue(value);\n    i += 1;\n  }\n  return builder.state();\n}\nfunction coerceObject(object) {\n  var builder = new RecordBuilder();\n  var prop, key, value;\n  var attrs = object['@'];\n  for (prop in attrs) {\n    key = coerce(prop);\n    if (typeof key === 'string') {\n      value = coerce(attrs[prop]);\n      if (!value.isAbsent) builder.appendField(new Attr(key, value));\n    }\n  }\n  for (prop in object) {\n    if (prop !== '@') {\n      key = coerce(prop);\n      if (!key.isAbsent) {\n        value = coerce(object[prop]);\n        if (!value.isAbsent) builder.appendField(new Slot(key, value));\n      }\n    }\n  }\n  return builder.state();\n}\n\nfunction parse(string) {\n  var input = new StringIterator(string);\n  var result = new DocumentParser().run(input);\n  return result.state();\n}\n\nfunction stringify() {\n  var writer = new ReconWriter();\n  writer.writeBlock(coerce.apply(null, arguments));\n  return writer.state();\n}\n\nfunction objectify(value) {\n  if (value === null || typeof value === 'undefined' || value.isExtant) return null;\n  else if (value.isAbsent) return undefined;\n  else if (value instanceof Record) {\n    if (value.isArray()) return objectifyArray(value);\n    else return objectifyObject(value);\n  }\n  else return value;\n}\nfunction objectifyArray(record) {\n  var array = [];\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var value = objectify(items.head());\n    array.push(value);\n    items.step();\n  }\n  return array;\n}\nfunction objectifyObject(record) {\n  var items = record.iterator();\n  var key, value;\n  var object = {};\n  var attrs = null;\n  var i = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (item.isField) {\n      key = objectify(item.key);\n      value = objectify(item.value);\n      if (item.isAttr) {\n        if (attrs === null) attrs = {};\n        attrs[key] = value;\n      }\n      else object[key] = value;\n    }\n    else {\n      value = objectify(item);\n      object[i] = value;\n    }\n    items.step();\n    i += 1;\n  }\n  if (attrs !== null) object['@'] = attrs;\n  return object;\n}\n\nfunction base64(string) {\n  if (typeof string === 'undefined') return new Uint8Array(0);\n  var data = new DataBuilder();\n  var cs = new StringIterator(string);\n  while (!cs.isEmpty()) {\n    data.appendBase64Char(cs.head());\n    cs.step();\n  }\n  return data.state();\n}\n\nfunction attr(key, value) {\n  if (typeof value === 'undefined') value = Extant;\n  return new Attr(coerce(key), coerce(value));\n}\n\nfunction slot(key, value) {\n  if (typeof value === 'undefined') value = Extant;\n  return new Slot(coerce(key), coerce(value));\n}\n\nfunction empty() {\n  return new Record([], {});\n}\n\nfunction builder() {\n  return new RecordBuilder();\n}\n\nfunction compare(x, y) {\n  if (x === y) return true;\n  if (x instanceof Record && y instanceof Record) return x.equals(y);\n  if (x.isField && y.isField) return x.equals(y);\n  if (x instanceof Uint8Array && y instanceof Uint8Array && x.length === y.length) {\n    var i = 0;\n    var n = x.length;\n    while (i < n && x[i] === y[i]) i += 1;\n    if (i === n) return true;\n  }\n  return false;\n}\n\n\nfunction Record(items, index) {\n  if (typeof index === 'undefined') {\n    index = {};\n    var i = 0;\n    var n = items.length;\n    while (i < n) {\n      var item = items[i];\n      if (item.isField) index[item.key] = item.value;\n      i += 1;\n    }\n  }\n  var record = function(key) {\n    var value = index[key];\n    if (typeof value === 'undefined' && typeof key === 'number') value = items[key];\n    return value;\n  };\n  record.__proto__ = Record.prototype;\n  Object.defineProperty(record, 'items', {value: items});\n  Object.defineProperty(record, 'index', {value: index});\n  return record;\n}\nRecord.prototype = Object.create(Function.prototype);\nRecord.prototype.constructor = Record;\nObject.defineProperty(Record.prototype, 'size', {\n  enumerable: true,\n  get: function () {\n    return this.items.length;\n  }\n});\nRecord.prototype.isEmpty = function () {\n  return this.items.length === 0;\n};\nRecord.prototype.isArray = function () {\n  return this.items.length >= 0 && Object.getOwnPropertyNames(this.index).length === 0;\n};\nRecord.prototype.isMarkup = function () {\n  function isBlank(string) {\n    var cs = new StringIterator(string);\n    while (!cs.isEmpty() && isSpace(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  var items = this.iterator();\n  var afterNonText = false;\n  var hasNonText = false;\n  var sections = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (typeof item !== 'string') {\n      if (afterNonText) return false;\n      afterNonText = true;\n      hasNonText = true;\n    }\n    else if (afterNonText && !isBlank(item)) {\n      afterNonText = false;\n      sections += 1;\n    }\n    else if (sections === 0) sections = 1;\n    items.step();\n  }\n  return hasNonText && sections >= 2;\n};\nRecord.prototype.hasAttrs = function() {\n  return this.items.length > 0 && (this.items[0].isAttr || this.items[this.items.length - 1].isAttr);\n};\nRecord.prototype.hasPrefixAttrs = function () {\n  return this.items.length > 0 && this.items[0].isAttr;\n};\nRecord.prototype.hasPostfixAttrs = function () {\n  return this.items.length > 0 && this.items[this.items.length - 1].isAttr;\n};\nRecord.prototype.contains = function (key) {\n  return typeof this(key) !== 'undefined';\n};\nRecord.prototype.head = function () {\n  return this.items.length > 0 ? this.items[0] : Absent;\n};\nRecord.prototype.tail = function () {\n  return new Record(this.items.slice(1));\n};\nRecord.prototype.body = function () {\n  return new Record(this.items.slice(0, -1));\n};\nRecord.prototype.foot = function () {\n  return this.items.length > 0 ? this.items[this.items.length - 1] : Absent;\n};\nRecord.prototype.target = function () {\n  var these = this.iterator();\n  while (!these.isEmpty()) {\n    var item = these.next();\n    if (!item.isField) return item;\n  }\n  return Absent;\n};\nRecord.prototype.concat = function () {\n  var builder = new RecordBuilder();\n  builder.appendRecord(this);\n  var that = coerce.apply(null, arguments);\n  if (that instanceof Record) builder.appendRecord(that);\n  else builder.appendValue(that);\n  return builder.state();\n};\nRecord.prototype.iterator = function () {\n  return new RecordIterator(this.items);\n};\nRecord.prototype.forEach = function (f) {\n  var these = this.iterator();\n  while (!these.isEmpty()) f(these.next());\n};\nRecord.prototype.equals = function (that) {\n  var these = this.iterator();\n  var those = that.iterator();\n  while (!these.isEmpty() && !those.isEmpty()) {\n    if (!compare(these.next(), those.next())) return false;\n  }\n  return these.isEmpty() && those.isEmpty();\n};\nRecord.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeRecord(this);\n  return writer.state();\n};\n\n\nfunction Field() {}\nObject.defineProperty(Field.prototype, 'isField', {enumerable: true, value: true});\nObject.defineProperty(Field.prototype, 'isAttr', {enumerable: true, value: false});\nObject.defineProperty(Field.prototype, 'isSlot', {enumerable: true, value: false});\n\nfunction Attr(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (typeof value === 'undefined') value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nAttr.prototype = Object.create(Field.prototype);\nAttr.prototype.constructor = Attr;\nObject.defineProperty(Attr.prototype, 'isAttr', {enumerable: true, value: true});\nAttr.prototype.equals = function (that) {\n  return that.isAttr && compare(this.key, that.key) && compare(this.value, that.value);\n};\nAttr.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeAttr(this);\n  return writer.state();\n};\n\nfunction Slot(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (typeof value === 'undefined') value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nSlot.prototype = Object.create(Field.prototype);\nSlot.prototype.constructor = Slot;\nObject.defineProperty(Slot.prototype, 'isSlot', {enumerable: true, value: true});\nSlot.prototype.equals = function (that) {\n  return that.isSlot && compare(this.key, that.key) && compare(this.value, that.value);\n};\nSlot.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeItem(this);\n  return writer.state();\n};\n\n\nvar Extant = {};\nObject.defineProperty(Extant, 'isExtant', {enumerable: true, value: true});\n\nvar Absent = {};\nObject.defineProperty(Absent, 'isAbsent', {enumerable: true, value: true});\n\n\nfunction RecordIterator(items, index) {\n  Object.defineProperty(this, 'items', {value: items});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nRecordIterator.prototype.isEmpty = function () {\n  return this.index >= this.items.length;\n};\nRecordIterator.prototype.head = function () {\n  if (this.index >= this.items.length) throw 'head of empty iterator';\n  return this.items[this.index];\n};\nRecordIterator.prototype.step = function () {\n  if (this.index >= this.items.length) throw 'empty iterator step';\n  this.index += 1;\n};\nRecordIterator.prototype.next = function () {\n  if (this.index >= this.items.length) return null;\n  var item = this.items[this.index];\n  this.index += 1;\n  return item;\n};\nRecordIterator.prototype.dup = function () {\n  return new RecordIterator(this.items, this.index);\n};\nRecordIterator.prototype.toRecord = function () {\n  return new Record(this.items.slice(this.index));\n};\nRecordIterator.prototype.isAllAttrs = function () {\n  var items = this.dup();\n  while (!items.isEmpty()) {\n    if (!items.next().isAttr) return false;\n  }\n  return true;\n};\n\n\nfunction RecordBuilder() {\n  Object.defineProperty(this, 'items', {value: []});\n  Object.defineProperty(this, 'index', {value: {}});\n}\nRecordBuilder.prototype.appendField = function (field) {\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nRecordBuilder.prototype.appendValue = function (value) {\n  this.items.push(value);\n};\nRecordBuilder.prototype.appendRecord = function (record) {\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var item = items.next();\n    if (item.isField) this.appendField(item);\n    else this.appendValue(item);\n  }\n};\nRecordBuilder.prototype.attr = function (key, value) {\n  this.appendField(attr(key, value));\n  return this;\n};\nRecordBuilder.prototype.slot = function (key, value) {\n  this.appendField(slot(key, value));\n  return this;\n};\nRecordBuilder.prototype.item = function (value) {\n  this.appendValue(coerceItem(value));\n  return this;\n};\nRecordBuilder.prototype.state = function () {\n  return new Record(this.items, this.index);\n};\n\n\nfunction ValueBuilder() {\n  Object.defineProperty(this, 'items', {value: null, writable: true});\n  Object.defineProperty(this, 'index', {value: null, writable: true});\n  Object.defineProperty(this, 'value', {value: null, writable: true});\n}\nValueBuilder.prototype.appendField = function (field) {\n  if (this.items === null) {\n    this.items = [];\n    this.index = {};\n    if (this.value !== null) {\n      this.items.push(this.value);\n      this.value = null;\n    }\n  }\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nValueBuilder.prototype.appendValue = function (value) {\n  if (this.items !== null) this.items.push(value);\n  else if (this.value === null) this.value = value;\n  else {\n    this.items = [];\n    this.index = {};\n    this.items.push(this.value);\n    this.value = null;\n    this.items.push(value);\n  }\n};\nValueBuilder.prototype.state = function () {\n  if (this.value !== null) return this.value;\n  else if (this.items !== null) return new Record(this.items, this.index);\n  else return Absent;\n};\n\n\nfunction StringIterator(string, index) {\n  Object.defineProperty(this, 'string', {value: string || ''});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nStringIterator.prototype.isDone = function () {\n  return false;\n};\nStringIterator.prototype.isEmpty = function () {\n  return this.index >= this.string.length;\n};\nStringIterator.prototype.head = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) return c1; // U+0000..U+D7FF | U+E000..U+FFFF\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      return (((c1 & 0x3FF) << 10) | (c2 & 0x3FF)) + 0x10000;\n    else return 0xFFFD;\n  }\n  else return 0xFFFD;\n};\nStringIterator.prototype.step = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) // U+0000..U+D7FF | U+E000..U+FFFF\n    this.index += 1;\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      this.index += 2;\n    else this.index += 1;\n  }\n  else this.index += 1;\n};\n\nStringIterator.Done = {\n  isDone: function () {\n    return true;\n  },\n  isEmpty: function () {\n    return true;\n  },\n  head: function () {\n    throw 'head of empty iterator';\n  },\n  step: function () {\n    throw 'empty iterator step';\n  }\n};\nStringIterator.Done.prototype = Object.create(StringIterator.prototype);\n\n\nfunction StringIteratee() {}\nStringIteratee.prototype.isCont = function () {\n  return true;\n};\nStringIteratee.prototype.isDone = function () {\n  return false;\n};\nStringIteratee.prototype.isError = function () {\n  return false;\n};\nStringIteratee.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.prototype.run = function (input) {\n  var next = this;\n  while (!input.isEmpty() && next.isCont()) next = next.feed(input);\n  if (input.isEmpty() && !input.isDone() && next.isCont()) next = next.feed(StringIterator.Done);\n  return next;\n};\n\nStringIteratee.Done = function (value) {\n  StringIteratee.call(this);\n  this.value = value;\n};\nStringIteratee.Done.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Done.prototype.constructor = StringIteratee.Done;\nStringIteratee.Done.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Done.prototype.isDone = function () {\n  return true;\n};\nStringIteratee.Done.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Done.prototype.state = function () {\n  return this.value;\n};\n\nStringIteratee.Error = function (error) {\n  StringIteratee.call(this);\n  this.error = error;\n};\nStringIteratee.Error.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Error.prototype.constructor = StringIteratee.Error;\nStringIteratee.Error.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Error.prototype.isError = function () {\n  return true;\n};\nStringIteratee.Error.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Error.prototype.state = function () {\n  throw this.error;\n};\n\nStringIteratee.unexpectedEOF = new StringIteratee.Error('unexpected end of input');\n\n\nfunction StringBuilder() {\n  Object.defineProperty(this, 'string', {value: '', writable: true});\n}\nStringBuilder.prototype.append = function (c) {\n  if ((c >= 0x0000 && c <= 0xD7FF) ||\n      (c >= 0xE000 && c <= 0xFFFF)) { // U+0000..U+D7FF | U+E000..U+FFFF\n    this.string += String.fromCharCode(c);\n  }\n  else if (c >= 0x10000 && c <= 0x10FFFF) { // U+10000..U+10FFFF\n    var u = c - 0x10000;\n    this.string += String.fromCharCode(0xD800 | (u >>> 10), 0xDC00 | (u & 0x3FF));\n  }\n  else { // invalid code point\n    this.string += String.fromCharCode(0xFFFD);\n  }\n};\nStringBuilder.prototype.appendString = function (s) {\n  var cs = new StringIterator(s);\n  while (!cs.isEmpty()) {\n    this.append(cs.head());\n    cs.step();\n  }\n};\nStringBuilder.prototype.state = function () {\n  return this.string;\n};\n\n\nfunction DataBuilder() {\n  Object.defineProperty(this, 'buffer', {value: null, writable: true});\n  Object.defineProperty(this, 'offset', {value: 0, writable: true});\n  Object.defineProperty(this, 'aliased', {value: true, writable: true});\n  Object.defineProperty(this, 'p', {value: 0, writable: true});\n  Object.defineProperty(this, 'q', {value: 0, writable: true});\n  Object.defineProperty(this, 'r', {value: 0, writable: true});\n  Object.defineProperty(this, 's', {value: 0, writable: true});\n}\nDataBuilder.prototype.prepare = function (size) {\n  function expand(base, size) {\n    var n = Math.max(base, size) - 1;\n    n |= n >> 1; n |= n >> 2; n |= n >> 4; n |= n >> 8;\n    return n + 1;\n  }\n  if (this.aliased || size > this.buffer.length) {\n    var array = new Uint8Array(expand(256, size));\n    if (this.buffer) array.set(this.buffer);\n    this.buffer = array;\n    this.aliased = false;\n  }\n};\nDataBuilder.prototype.appendByte = function (value) {\n  this.prepare(this.offset + 1);\n  this.buffer[this.offset] = value;\n  this.offset += 1;\n};\nDataBuilder.prototype.decodeBase64Digit = function (c) {\n  if (c >= 65/*'A'*/ && c <= 90/*'Z'*/) return c - 65/*'A'*/;\n  else if (c >= 97/*'a'*/ && c <= 122/*'z'*/) return c - 71/*'a' - 26*/;\n  else if (c >= 48/*'0'*/ && c <= 57/*'9'*/) return c + 4/*52 - '0'*/;\n  else if (c === 43/*'+'*/ || c === 45/*'-'*/) return 62;\n  else if (c === 47/*'/'*/ || c === 95/*'_'*/) return 63;\n};\nDataBuilder.prototype.decodeBase64Quantum = function () {\n  var x = this.decodeBase64Digit(this.p);\n  var y = this.decodeBase64Digit(this.q);\n  if (this.r !== 61/*'='*/) {\n    var z = this.decodeBase64Digit(this.r);\n    if (this.s !== 61/*'='*/) {\n      var w = this.decodeBase64Digit(this.s);\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n      this.appendByte((z << 6) | w);\n    }\n    else {\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n    }\n  }\n  else {\n    if (this.s !== 61/*'='*/) throw 'incomplete base64 quantum';\n    this.appendByte((x << 2) | (y >>> 4));\n  }\n};\nDataBuilder.prototype.appendBase64Char = function (c) {\n  if (this.p === 0) this.p = c;\n  else if (this.q === 0) this.q = c;\n  else if (this.r === 0) this.r = c;\n  else {\n    this.s = c;\n    this.decodeBase64Quantum();\n    this.s = 0;\n    this.r = 0;\n    this.q = 0;\n    this.p = 0;\n  }\n};\nDataBuilder.prototype.state = function (value) {\n  if (!this.buffer) this.buffer = new Uint8Array(0);\n  else if (this.buffer.length !== this.offset) {\n    var array = new Uint8Array(this.offset);\n    array.set(this.buffer.subarray(0, this.offset));\n    this.buffer = array;\n  }\n  this.aliased = true;\n  return this.buffer;\n};\n\n\nfunction isSpace(c) {\n  return c === 0x20 || c === 0x9;\n}\nfunction isNewline(c) {\n  return c === 0xA || c === 0xD;\n}\nfunction isWhitespace(c) {\n  return isSpace(c) || isNewline(c);\n}\nfunction isNameStartChar(c) {\n  return (\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x2FF ||\n    c >= 0x370 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isNameChar(c) {\n  return (\n    c === 45/*'-'*/ ||\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 0xB7 ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x203F && c <= 0x2040 ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isBase64Char(c) {\n  return (\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 43/*'+'*/ || c === 45/*'-'*/ ||\n    c === 47/*'/'*/ || c === 95/*'_'*/);\n}\n\n\nfunction DocumentParser(value) {\n  StringIteratee.call(this);\n  this.value = value || new BlockParser();\n}\nDocumentParser.prototype = Object.create(StringIteratee.prototype);\nDocumentParser.prototype.constructor = DocumentParser;\nDocumentParser.prototype.feed = function (input) {\n  var value = this.value;\n  while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n  if (value.isError()) return value;\n  if (value.isDone()) {\n    if (!input.isEmpty()) return new StringIteratee.Error({found: input.head()});\n    else if (input.isDone()) return value;\n  }\n  return new DocumentParser(value);\n};\n\n\nfunction BlockParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockParser.prototype = Object.create(StringIteratee.prototype);\nBlockParser.prototype.constructor = BlockParser;\nBlockParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new ValueBuilder();\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) s = 2;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 2) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 3;\n      else if (key.isError()) return key;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 4;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 6;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 5;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 1;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n  }\n  return new BlockParser(builder, key, value, s);\n};\n\n\nfunction AttrParser(ident, value, s) {\n  StringIteratee.call(this);\n  this.ident = ident || new IdentParser();\n  this.value = value || new BlockParser();\n  this.s = s || 1;\n}\nAttrParser.prototype = Object.create(StringIteratee.prototype);\nAttrParser.prototype.constructor = AttrParser;\nAttrParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var ident = this.ident;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 64/*'@'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'@\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    ident = ident.feed(input);\n    if (ident.isDone()) s = 3;\n    else if (ident.isError()) return ident;\n  }\n  if (s === 3) {\n    if (!input.isEmpty() && input.head() === 40/*'('*/) {\n      input.step();\n      s = 4;\n    }\n    else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(new Attr(ident.state()));\n  }\n  if (s === 4) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state()));\n      }\n      else s = 5;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 5) {\n    while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n    if (value.isDone()) s = 6;\n    else if (value.isError()) return value;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state(), value.state()));\n      }\n      else return new StringIteratee.Error({expected: '\\')\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  return new AttrParser(ident, value, s);\n};\n\n\nfunction BlockValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockValueParser.prototype = Object.create(StringIteratee.prototype);\nBlockValueParser.prototype.constructor = BlockValueParser;\nBlockValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          value = new RecordParser(builder);\n          s = 5;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          value = new MarkupParser(builder);\n          s = 5;\n        }\n        else if (c === 34/*'\"'*/) {\n          value = new StringParser();\n          s = 4;\n        }\n        else if (c === 37/*'%'*/) {\n          value = new DataParser();\n          s = 4;\n        }\n        else if (c === 45/*'-'*/ || c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n          value = new NumberParser();\n          s = 4;\n        }\n        else if (isNameStartChar(c)) {\n          value = new IdentParser();\n          s = 4;\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) {\n        if (input.head() === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 7;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 7) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 6;\n      }\n      else if (field.isError()) return field;\n    }\n  }\n  return new BlockValueParser(builder, field, value, s);\n};\n\n\nfunction InlineValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nInlineValueParser.prototype = Object.create(StringIteratee.prototype);\nInlineValueParser.prototype.constructor = InlineValueParser;\nInlineValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          if (builder) {\n            value = new RecordParser(builder);\n            s = 5;\n          }\n          else {\n            value = new RecordParser();\n            s = 4;\n          }\n        }\n        else if (c === 91/*'['*/) {\n          if (builder) {\n            value = new MarkupParser(builder);\n            s = 5;\n          }\n          else {\n            value = new MarkupParser();\n            s = 4;\n          }\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        return new StringIteratee.Done(builder.state());\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) return new StringIteratee.Done(builder.state());\n      else if (value.isError()) return value;\n    }\n  }\n  return new InlineValueParser(builder, field, value, s);\n};\n\n\nfunction RecordParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nRecordParser.prototype = Object.create(StringIteratee.prototype);\nRecordParser.prototype.constructor = RecordParser;\nRecordParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new RecordBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 123/*'{'*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'{\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n        else s = 3;\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 4;\n      else if (key.isError()) return key;\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 5;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 7;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 6;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 6) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 7;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 7) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 2;\n        }\n        else if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n       else return new StringIteratee.Error({expected: '\\'}\\', \\';\\', \\',\\', or newline', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new RecordParser(builder, key, value, s);\n};\n\n\nfunction MarkupParser(builder, text, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.text = text || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nMarkupParser.prototype = Object.create(StringIteratee.prototype);\nMarkupParser.prototype.constructor = MarkupParser;\nMarkupParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var text = this.text;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 91/*'['*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'[\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(),\n          c !== 64/*'@'*/ &&\n          c !== 91/*'['*/ &&\n          c !== 92/*'\\\\'*/ &&\n          c !== 93/*']'*/ &&\n          c !== 123/*'{'*/ &&\n          c !== 125/*'}'*/)) {\n        input.step();\n        text = text || new StringBuilder();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 93/*']'*/) {\n          input.step();\n          builder = builder || new RecordBuilder();\n          if (text) builder.appendValue(text.state());\n          return new StringIteratee.Done(builder.state());\n        }\n        else if (c === 64/*'@'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new InlineValueParser();\n          s = 3;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new RecordParser(builder);\n          s = 4;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new MarkupParser(builder);\n          s = 4;\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 5;\n        }\n        else new StringIteratee.Error({found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendValue(value.state());\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        text = text || new StringBuilder();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new MarkupParser(builder, text, value, s);\n};\n\n\nfunction StringParser(text, s) {\n  StringIteratee.call(this);\n  this.text = text || null;\n  this.s = s || 1;\n}\nStringParser.prototype = Object.create(StringIteratee.prototype);\nStringParser.prototype.constructor = StringParser;\nStringParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var text = this.text;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 34/*'\"'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'\"\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      text = text || new StringBuilder();\n      while (!input.isEmpty() && (c = input.head(), c !== 34/*'\"'*/ && c !== 92/*'\\\\'*/)) {\n        input.step();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 34/*'\"'*/) {\n          input.step();\n          return new StringIteratee.Done(text.state());\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 3;\n        }\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new StringParser(text, s);\n};\n\n\nfunction DataParser(data, s) {\n  StringIteratee.call(this);\n  this.data = data || null;\n  this.s = s || 1;\n}\nDataParser.prototype = Object.create(StringIteratee.prototype);\nDataParser.prototype.constructor = DataParser;\nDataParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var data = this.data || new DataBuilder();\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 37/*'%'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'%\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 3;\n      }\n      else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(data.state());\n    }\n    if (s === 3) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 4;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 4) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 5;\n        else s = 6;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 5) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 2;\n        else return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    else if (s === 6) {\n      if (!input.isEmpty() && (c = input.head(), c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'=\\'', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new DataParser(data, s);\n};\n\n\nfunction NumberParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nNumberParser.prototype = Object.create(StringIteratee.prototype);\nNumberParser.prototype.constructor = NumberParser;\nNumberParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder || new StringBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 2;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 48/*'0'*/) {\n        input.step();\n        builder.append(c);\n        s = 4;\n      }\n      else if (c >= 49/*'1'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 3;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 3) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 4;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 4) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 46/*'.'*/) {\n        input.step();\n        builder.append(c);\n        s = 5;\n      }\n      else if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n        input.step();\n        builder.append(c);\n        s = 8;\n      }\n      else return new StringIteratee.Done(Number(builder.state()));\n    }\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 5) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 6;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 7;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 7) {\n    c = input.head();\n    if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n      input.step();\n      builder.append(c);\n      s = 8;\n    }\n    else return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 8) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 43/*'+'*/ || c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 9;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 9) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 10;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 10) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  return new NumberParser(builder, s);\n};\n\nfunction IdentParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nIdentParser.prototype = Object.create(StringIteratee.prototype);\nIdentParser.prototype.constructor = IdentParser;\nIdentParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), isNameStartChar(c))) {\n      builder = builder || new StringBuilder();\n      input.step();\n      builder.append(c);\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'identitifer', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    while (!input.isEmpty() && (c = input.head(), isNameChar(c))) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) {\n      var value = builder.state();\n      if (value === 'true') value = true;\n      else if (value === 'false') value = false;\n      return new StringIteratee.Done(value);\n    }\n  }\n  return new IdentParser(builder, s);\n};\n\n\nfunction ReconWriter(builder) {\n  Object.defineProperty(this, 'builder', {value: builder || new StringBuilder()});\n}\nReconWriter.prototype.writeValue = function (value, inMarkup) {\n  if (value instanceof Record) this.writeRecord(value, inMarkup);\n  else if (typeof value === 'string') this.writeText(value, inMarkup);\n  else if (typeof value === 'number') this.writeNumber(value);\n  else if (typeof value === 'boolean') this.writeBool(value);\n  else if (value instanceof Uint8Array) this.writeData(value);\n};\nReconWriter.prototype.writeAttr = function(attr) {\n  this.builder.append(64/*'@'*/);\n  this.writeIdent(attr.key);\n  if (!attr.value.isExtant) {\n    this.builder.append(40/*'('*/);\n    this.writeBlock(attr.value);\n    this.builder.append(41/*')'*/);\n  }\n};\nReconWriter.prototype.writeItem = function(item) {\n  if (item.isField) {\n    this.writeValue(item.key);\n    this.builder.append(58/*':'*/);\n    if (!item.value.isExtant) this.writeValue(item.value);\n  }\n  else this.writeValue(item);\n};\nReconWriter.prototype.writeBlock = function (value) {\n  if (!(value instanceof Record)) this.writeValue(value);\n  else if (value.isMarkup()) this.writeMarkup(value);\n  else if (value.hasAttrs()) this.writeRecord(value);\n  else {\n    var items = value.iterator();\n    if (!items.isEmpty()) {\n      this.writeItem(items.next());\n      while (!items.isEmpty()) {\n        this.builder.append(44/*','*/);\n        this.writeItem(items.next());\n      }\n    }\n  }\n};\nReconWriter.prototype.writeRecord = function (record, inMarkup) {\n  if (record.isMarkup()) this.writeMarkup(record);\n  else {\n    var items = record.iterator();\n    var item;\n    var hasAttrs = false;\n    while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n      this.writeAttr(item);\n      items.step();\n      hasAttrs = true;\n    }\n    if (!items.isEmpty()) {\n      items.step();\n      if (hasAttrs && items.isEmpty()) {\n        if (inMarkup) {\n          if (item instanceof Record || typeof item === 'string') this.writeValue(item, inMarkup);\n          else {\n            this.builder.append(123/*'{'*/);\n            this.writeItem(item);\n            this.builder.append(125/*'}'*/);\n          }\n        }\n        else if (item instanceof Record || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else if (!items.isEmpty() && items.isAllAttrs()) {\n        if (item instanceof Record || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          if (hasAttrs) this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else {\n        this.builder.append(123/*'{'*/);\n        this.writeItem(item);\n        while (!items.isEmpty() && ((item = items.head(), !item.isAttr) || !items.isAllAttrs)) {\n          this.builder.append(44/*','*/);\n          this.writeItem(item);\n          items.step();\n        }\n        this.builder.append(125/*'}'*/);\n      }\n      while (!items.isEmpty()) this.writeAttr(items.next());\n    }\n    else if (!hasAttrs) {\n      this.builder.append(123/*'{'*/);\n      this.builder.append(125/*'}'*/);\n    }\n  }\n};\nReconWriter.prototype.writeMarkup = function (record) {\n  var items = record.iterator();\n  var item;\n  var hasAttrs = false;\n  while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n    this.writeAttr(item);\n    items.step();\n    hasAttrs = true;\n  }\n  this.builder.append(91/*'['*/);\n  while (!items.isEmpty()) {\n    item = items.head();\n    if (typeof item === 'string') {\n      var cs = new StringIterator(item);\n      while (!cs.isEmpty()) {\n        var c = cs.head();\n        switch (c) {\n          case 64/*'@'*/:\n          case 91/*'['*/:\n          case 92/*'\\\\'*/:\n          case 93/*']'*/:\n          case 123/*'{'*/:\n          case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n          default: this.builder.append(c);\n        }\n        cs.step();\n      }\n    }\n    else if (item instanceof Record) this.writeRecord(item, true);\n    else {\n      this.builder.append(123/*'{'*/);\n      this.writeItem(item);\n      this.builder.append(125/*'}'*/);\n    }\n    items.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeText = function (text, inMarkup) {\n  function isIdent() {\n    var cs = new StringIterator(text);\n    if (cs.isEmpty() || !isNameStartChar(cs.head())) return false;\n    cs.step();\n    while (!cs.isEmpty() && isNameChar(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  if (inMarkup) this.writeTextMarkup(text);\n  else if (isIdent()) this.writeIdent(text);\n  else this.writeString(text);\n};\nReconWriter.prototype.writeString = function (string) {\n  var cs = new StringIterator(string);\n  this.builder.append(34/*'\"'*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 34/*'\"'*/:\n      case 92/*'\\\\'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      case 8/*'\\b'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(98/*'b'*/); break;\n      case 12/*'\\f'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(102/*'f'*/); break;\n      case 10/*'\\n'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(110/*'n'*/); break;\n      case 13/*'\\r'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(114/*'r'*/); break;\n      case 9/*'\\t'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(116/*'t'*/); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(34/*'\"'*/);\n};\nReconWriter.prototype.writeIdent = function (ident) {\n  this.builder.appendString(ident);\n};\nReconWriter.prototype.writeTextMarkup = function (text) {\n  var cs = new StringIterator(text);\n  this.builder.append(91/*'['*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 64/*'@'*/:\n      case 91/*'['*/:\n      case 92/*'\\\\'*/:\n      case 93/*']'*/:\n      case 123/*'{'*/:\n      case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeNumber = function (number) {\n  this.builder.appendString(number.toString());\n};\nReconWriter.prototype.writeBool = function (bool) {\n  this.builder.appendString(bool.toString());\n};\nReconWriter.prototype.writeData = function (data) {\n  function encodeBase64Digit(x) {\n    if      (x >=  0 && x < 26) return x + 65/*'A'*/;\n    else if (x >= 26 && x < 52) return x + 71/*('a' - 26)*/;\n    else if (x >= 52 && x < 62) return x - 4/*-('0' - 52)*/;\n    else if (x === 62) return 43/*'+'*/;\n    else if (x === 63) return 47/*'/'*/;\n  }\n  this.builder.append(37/*'%'*/);\n  var i = 0;\n  var n = data.length;\n  var x, y, z;\n  while (i + 2 < n) {\n    x = data[i];\n    y = data[i + 1];\n    z = data[i + 2];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit(((y << 2) | (z >>> 6)) & 0x3F));\n    this.builder.append(encodeBase64Digit(z & 0x3F));\n    i += 3;\n  }\n  if (i + 1 < n) {\n    x = data[i];\n    y = data[i + 1];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit((y << 2) & 0x3F));\n    this.builder.append(61/*'='*/);\n    i += 2;\n  }\n  else if (i < n) {\n    x = data[i];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit((x << 4) & 0x3F));\n    this.builder.append(61/*'='*/);\n    this.builder.append(61/*'='*/);\n    i += 1;\n  }\n};\nReconWriter.prototype.state = function () {\n  return this.builder.state();\n};\n\n\nmodule.exports = function () {\n  return coerce.apply(null, arguments);\n};\nexports = module.exports;\nexports.parse = parse;\nexports.stringify = stringify;\nexports.objectify = objectify;\nexports.Record = Record;\nexports.Field = Field;\nexports.Attr = Attr;\nexports.Slot = Slot;\nexports.attr = attr;\nexports.slot = slot;\nexports.base64 = base64;\nexports.extant = Extant;\nexports.absent = Absent;\nexports.empty = empty;\nexports.builder = builder;\nexports.compare = compare;\n\n},{}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}